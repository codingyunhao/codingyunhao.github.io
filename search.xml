<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>在腾讯云上搭建个人静态博客</title>
      <link href="/2018/04/28/%E5%9C%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%8A%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2-1/"/>
      <url>/2018/04/28/%E5%9C%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%8A%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2-1/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>在腾讯云上搭建个人静态博客</title>
      <link href="/2018/04/28/%E5%9C%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%8A%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
      <url>/2018/04/28/%E5%9C%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%8A%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/</url>
      <content type="html"><![CDATA[<p>上机作业</p><p><strong>2017年12月8日</strong></p><p>这周开始学习在腾讯云上部署自己的博客。</p><p>过程很有趣，特别是用域名访问自己部署的网页还是很有成就感的，所以决定写一遍文章来分享学习过程，<br>希望路过的朋友可以多提一些建议，交流心得。</p><p>一、我们需要知道的预备知识是：<br>①前端开发的基础知识：html，css，JavaScript.<br>这三个东西最为基础，但是却是前端开发的“三剑客”，很多的前端框架正是基于他们三个开发出来的。<br>这里推荐前端学习的网站：W3C,菜鸟教程，对于前端初学者开说比较友好，它们提供了很多可以测试的实例，在网页编写的过程中可以随时看到运行效果。<br>②服务器请求的相关知识：<br>服务器端的编程语言有很多。<br>可以使用java或者nodejs来搭建后台。</p><p>以tomcat服务器为例，将自己写好的页面用tomcat发布到本地，可以通过hocalhost：8080端口访问。<br>这一步很关键。关于tomcat服务器的安装及环境配置建议去慕课网学习。其中tomcat的运行需要java的环境。<br>以下提供两个参考的学习案例：</p><p>java环境配置<br><a href="http://www.imooc.com/video/1459" target="_blank" rel="noopener">http://www.imooc.com/video/1459</a><br>有全部的安装教程及环境变量配置方法<br>(jdk安装路径)JAVA_HOME :就是java文件夹下的jdk文件的位置 有时jdk文件夹后面可能有其它数字，因版本不同<br>(jdk命令文件的位置)Path：jdk下的bin文件夹，（win10以下的版本要编辑已有的path，在最前面加上路径，之后用“；”隔开与其它路径）<br>(jdk库文件的位置)CLASSPATH：jdk下的lib目录 注意在路径前加上.;</p><p>tomcat配置<br><a href="http://blog.csdn.net/zhouzezhou/article/details/52450810" target="_blank" rel="noopener">http://blog.csdn.net/zhouzezhou/article/details/52450810</a><br>在系统变量里新建变量名：CATALINA_BASE，变量值：D:\tomcat\apache-tomcat-9.0.0.M9<br>在系统变量里新建变量名：CATALINA_HOME，变量值：D:\tomcat\apache-tomcat-9.0.0.M9<br>在系统变量里打开PATH，添加变量值：%CATALINA_HOME%\lib;%CATALINA_HOME%\bin</p><hr><p>nodejs：<br>在另一篇文章“nodejs搭建个人博客系统”里面有详细介绍，这里不再赘述。</p><p>二、我们就可以将网页发布到腾讯云上了，一下步骤供参考：<br>①购买域名<br><img src="http://img.blog.csdn.net/20171208150222121?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="登录腾讯云首页注册账号"><br>②购买服务器<br><img src="http://img.blog.csdn.net/20171208150845561?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里是服务器的基本配置，可以选择操作系统，带宽等"><br><img src="http://img.blog.csdn.net/20171208151017167?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>对于个人博客系统其实不需要太高的配置，考虑到价格因素。<br>另外腾讯云有学生主机，只要认证后就有很大的优惠。<br>③域名解析</p><p>这里需要说明的一点就是域名是需要备案的，提交之后方可使用，不然就是Internet的“黑户”了，<br>过程略微有点烦，不过相信大家都是遵纪守法的好公民，可以很好完成这个任务，这里就不写过程了，按照上面的步骤来就行了。<br><img src="http://img.blog.csdn.net/20171208151510898?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里你的服务器与云主机关联起来"></p><p>将域名绑定到自己主机公网IP上，<br>绑定之后，大概十分钟，在你本地电脑的命令行执行<br>ping 你的域名  回车，<br>如果正常收到你的主机ip发来的数据，说明你的域名解析成功了。</p><p>三、配置云主机<br>        这里以windows为例。<br>        ①登录腾讯云官方网站，进入控制台，找到自己的主机，点击右侧的<img src="http://img.blog.csdn.net/20180221093538945?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述">更多，之后选择windows操作系统，然后启动服务器。<br>        ②在本地的电脑，win+R，输入mstsc回车，打开远程连接命令窗口，输入你的主机IP，以及密码进行连接，顺利的话之后就可以看到你的云服务器了，这个服务器由于是Windows的操作系统，所以看起来和自己本地的电脑没啥区别，这样就方便进行环境变量的配置了。<br>        ③之后就可以将自己写好的静态博客发布到tomcat上面了。<br>四、访问网页<br>        在本地电脑打开浏览器，输入：“你的域名：端口号”，这个端口号tomcat默认是8080，你也可以修改他的端口号，具体方法自行百度，如果修改为80端口时，访问网页的时候就不需要加端口号，只要域名就可以访问网页。<br>       以上是自己的学习过程的记录，欢迎点赞批评指正！</p>]]></content>
      
      <categories>
          
          <category> 数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>图的广度深度优先遍历</title>
      <link href="/2018/04/28/%E5%9B%BE%E7%9A%84%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA%E5%B9%BF%E5%BA%A6%E6%B7%B1%E5%BA%A6%E9%81%8D%E5%8E%86%E5%A4%A7%E8%BF%9E%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8A%E6%9C%BA/"/>
      <url>/2018/04/28/%E5%9B%BE%E7%9A%84%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA%E5%B9%BF%E5%BA%A6%E6%B7%B1%E5%BA%A6%E9%81%8D%E5%8E%86%E5%A4%A7%E8%BF%9E%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8A%E6%9C%BA/</url>
      <content type="html"><![CDATA[<p>上机作业</p><!--more-><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;Queue.h&gt;</span><br><span class="line">//队列，可用之前文章里面的Queue.h</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class Edge</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int start,end;//边的起始节点，终止节点</span><br><span class="line">    EdgeType weight;//边的权重（应该可以定义为int）</span><br><span class="line">    Edge()</span><br><span class="line">    &#123;</span><br><span class="line">       start=0;</span><br><span class="line">        end=0;</span><br><span class="line">        weight=0;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge(int st,int en,int w)</span><br><span class="line">    &#123;</span><br><span class="line">        start=st;</span><br><span class="line">        end=en;</span><br><span class="line">        weight=w;</span><br><span class="line">    &#125;</span><br><span class="line">    bool operator &gt; (Edge oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(weight&gt;oneEdge.weight)</span><br><span class="line">            return true;</span><br><span class="line">        else</span><br><span class="line">            return false;</span><br><span class="line">    &#125;</span><br><span class="line">    bool operator &lt; (Edge oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(weight&lt;oneEdge.weight)</span><br><span class="line">            return true;</span><br><span class="line">        else</span><br><span class="line">            return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class Graph</span><br><span class="line">&#123;</span><br><span class="line">    public:</span><br><span class="line">    int vertexNum; //图中节点个数</span><br><span class="line">    int edgeNum;   //图中边的个数</span><br><span class="line">    int * Mark;    //标记某节点是否被访问</span><br><span class="line">    Graph(int verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;vertexNum=verNum;</span><br><span class="line">        edgeNum=0;</span><br><span class="line">        Mark=new int[vertexNum];</span><br><span class="line">        for(int i=0;i&lt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Mark[i]=0; //都没有被访问过</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~Graph()</span><br><span class="line">    &#123;</span><br><span class="line">        delete [] Mark;</span><br><span class="line">    &#125;</span><br><span class="line">    //virtual Edge&lt;EdgeType&gt; FirstEdge(int oneVertex)=0;</span><br><span class="line">    //virtual Edge&lt;EdgeType&gt; NextEdge(Edge&lt;EdgeType&gt; oneEdge)=0;</span><br><span class="line">    int verticesNum()</span><br><span class="line">    &#123;</span><br><span class="line">        return vertexNum;</span><br><span class="line">    &#125;</span><br><span class="line">    int EdgesNum()</span><br><span class="line">    &#123;</span><br><span class="line">        return edgeNum;</span><br><span class="line">    &#125;</span><br><span class="line">    bool isEdge(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(oneEdge.end&gt;=0 &amp;&amp; oneEdge.start&gt;=0 &amp;&amp; oneEdge.weight&gt;0)//判断条件还不清楚</span><br><span class="line">        &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    int startOfVertex(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.start;</span><br><span class="line">    &#125;</span><br><span class="line">    int endOfVertex(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.end;</span><br><span class="line">    &#125;</span><br><span class="line">    EdgeType weight(Edge&lt;EdgeType&gt; oneEdge) //返回oneEdge的权重</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.weight;</span><br><span class="line">    &#125;</span><br><span class="line">    //virtual void setEdge(int start,int end,int weight)=0;</span><br><span class="line">    //virtual void deleteEdge(int start,int end)=0;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class AdjGraph : public Graph&lt;EdgeType &gt;</span><br><span class="line">&#123;</span><br><span class="line"> private:</span><br><span class="line">    int ** matrix;</span><br><span class="line"> public:</span><br><span class="line">    AdjGraph(int verNum):Graph&lt;EdgeType&gt;(verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        matrix =new int * [verNum];</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [verNum];</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">          for(int j=0;j&lt;verNum;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i][j]=0;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    AdjGraph(int verNum,int **  a):Graph&lt;EdgeType&gt;(verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        matrix =new int * [verNum];</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [verNum];</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">          for(int j=0;j&lt;verNum;j++)</span><br><span class="line">          &#123;</span><br><span class="line"></span><br><span class="line">            matrix[i][j]=a[i][j];</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    void disp()</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">           for(int j=0;j&lt;this-&gt;vertexNum;j++)</span><br><span class="line">           &#123;</span><br><span class="line">             cout&lt;&lt;matrix[i][j]&lt;&lt;&quot; &quot;;</span><br><span class="line">           &#125;</span><br><span class="line">            cout&lt;&lt;endl;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~AdjGraph()</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [this-&gt;vertexNum];</span><br><span class="line">        &#125;</span><br><span class="line">        delete [] matrix;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge&lt;EdgeType&gt; FirstEdge(int oneVer) //返回顶点的第一条边</span><br><span class="line">    &#123;</span><br><span class="line">        Edge&lt;EdgeType&gt; tem;</span><br><span class="line">        tem.start=oneVer;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(matrix[oneVer][i]!=0)</span><br><span class="line">            &#123;</span><br><span class="line">                tem.end=i;</span><br><span class="line">                tem.weight=matrix[oneVer][i];</span><br><span class="line">                return tem;</span><br><span class="line">                //break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //cout&lt;&lt;&quot;没有符合条件的边&quot;&lt;&lt;endl;</span><br><span class="line">        //return;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge&lt;EdgeType&gt; NextEdge(Edge&lt;EdgeType&gt; oneEdge)//返回与oneEdg有相同起点的下一条边</span><br><span class="line">    &#123;</span><br><span class="line">        Edge&lt;EdgeType&gt; tem;</span><br><span class="line">        tem.start=oneEdge.start;</span><br><span class="line">        for(int i=oneEdge.end+1;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">              if(matrix[oneEdge.start][i]!=0)</span><br><span class="line">              &#123;</span><br><span class="line">                 tem.end=i;</span><br><span class="line">                 tem.weight=matrix[oneEdge.start][i];</span><br><span class="line">                 return tem;</span><br><span class="line">              &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //cout&lt;&lt;&quot;没有符合条件的边&quot;&lt;&lt;endl;</span><br><span class="line">        //return;</span><br><span class="line">    &#125;</span><br><span class="line">    void visit(int i)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;&quot;正在访问&quot;&lt;&lt;i+1&lt;&lt;&quot;号节点&quot;&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //深度优先搜索</span><br><span class="line">    void DFS(int i)//从i号节点开始深度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;Mark[i]=1;</span><br><span class="line">        visit(i);</span><br><span class="line">        for(Edge&lt;EdgeType&gt; e=FirstEdge(i);this-&gt;isEdge(e);e=NextEdge(e))</span><br><span class="line">        &#123;</span><br><span class="line">             if(this-&gt;Mark[e.end]==0)</span><br><span class="line">             &#123;</span><br><span class="line">               DFS(e.end);</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    void DFSGraph()//对图进行深度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        this-&gt;Mark[i]=0;  //标记都未访问</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(this-&gt;Mark[i]==0)</span><br><span class="line">            &#123;</span><br><span class="line">                DFS(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    //广度优先搜索</span><br><span class="line">    void BFS(int i)//从i号节点开始广度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        Queue&lt;int&gt; que;</span><br><span class="line">        que.EnQueue(i);</span><br><span class="line">        visit(i);</span><br><span class="line">        this-&gt;Mark[i]=1;</span><br><span class="line">        int p;</span><br><span class="line">        while(!que.IsEmpty())</span><br><span class="line">        &#123;</span><br><span class="line">            que.DeQueue(p);</span><br><span class="line">            this-&gt;Mark[p]=1;</span><br><span class="line">            for(Edge&lt;EdgeType&gt; e=FirstEdge(p);this-&gt;isEdge(e);e=NextEdge(e))</span><br><span class="line">            &#123;</span><br><span class="line">                if(this-&gt;Mark[e.end]==0)</span><br><span class="line">                &#123;//此处要注意，在节点入队时候就要将Mark置为已访问，否则可能会导致同一节点多次入队</span><br><span class="line">                  visit(e.end);</span><br><span class="line">                  this-&gt;Mark[e.end]=1;</span><br><span class="line">                  que.EnQueue(e.end);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void BFSGraph()//对图进行广度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        this-&gt;Mark[i]=0;  //标记都未访问</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(this-&gt;Mark[i]==0)</span><br><span class="line">            &#123;</span><br><span class="line">                BFS(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //课本p160页的图</span><br><span class="line">    int tem[8][8]=&#123;</span><br><span class="line">        &#123;0,1,1,0,0,0,0,0&#125;,</span><br><span class="line">        &#123;1,0,0,1,1,0,0,0&#125;,</span><br><span class="line">        &#123;1,0,0,0,0,1,1,0&#125;,</span><br><span class="line">        &#123;0,1,0,0,0,0,0,1&#125;,</span><br><span class="line">        &#123;0,1,0,0,0,0,0,1&#125;,</span><br><span class="line">        &#123;0,0,1,0,0,0,1,0&#125;,</span><br><span class="line">        &#123;0,0,1,0,0,1,0,0&#125;,</span><br><span class="line">        &#123;0,0,0,1,1,0,0,0&#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    int ** a=new int *[8];</span><br><span class="line">    for(int i=0;i&lt;8;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i]=new int [8];</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=0;i&lt;8;i++)</span><br><span class="line">      for(int j=0;j&lt;8;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i][j]=tem[i][j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    AdjGraph&lt;int&gt; p(8,a);</span><br><span class="line">    p.disp();</span><br><span class="line">   // p.DFSGraph();</span><br><span class="line">    p.BFSGraph();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://img.blog.csdn.net/20171210214341700?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="main函数里构造的图"></p>-->]]></content>
      
      <categories>
          
          <category> 数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>梦创例会笔记（2）</title>
      <link href="/2018/04/28/%E4%BE%8B%E4%BC%9A%E7%AC%94%E8%AE%B0%EF%BC%882%EF%BC%89/"/>
      <url>/2018/04/28/%E4%BE%8B%E4%BC%9A%E7%AC%94%E8%AE%B0%EF%BC%882%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>例会的笔记</p><p>&lt;!–more-&gt;</p><p>nodejs工程的建立：（上次例会）</p><p><a href="http://blog.csdn.net/l1558198727/article/details/79342912" target="_blank" rel="noopener">http://blog.csdn.net/l1558198727/article/details/79342912</a></p><hr><p>nodejs概念的理解：（上次例会）<br>异步：<br>程序执行的顺序可能不与代码编写顺序一样</p><p>eg：yibu.js</p><p>回调函数：<br>将函数座位参数传递，在指定的地方进行调用。<br>eg：<br>callback.js</p><hr><p>node.js 的模块系统：</p><p>一个文件即为一个模块，该模块自成作用域，在此模块内定义的函数、变量等等都是私有的，<br>对外部模块不可见。但是每个模块内都有一个module对象，该对象即代表了当前模块，该对象<br>的exports属性是模块提供的对外的接口。即如果外部模块如想访问该模块内部的数据，该模块<br>需要通过module.exports导出，然后其他模块通过require导入之后才能使用。</p><p>eg：hello.js</p><hr><p>核心模块&amp;自定义模块导入方式：</p><p>var hello = require(‘./hello’)</p><p>var http = require(‘http’)</p><hr><p>export export default exports module.exports区别与联系：</p><p>exports实际上是模块内部指向module.exports的一个变量。<br>即在模块内部实际上有一行代码var exports=module.exports,<br>故我们在用exports变量时应注意不要重新定义exports变量，<br>以免切断了两者之间的关联。<br>for reference：</p><p><a href="http://zhangchongmy.cn/2017/09/28/export-export-default-exports-module-exports%E5%8C%BA%E5%88%AB%E4%B8%8E%E8%81%94%E7%B3%BB/" target="_blank" rel="noopener">http://zhangchongmy.cn/2017/09/28/export-export-default-exports-module-exports%E5%8C%BA%E5%88%AB%E4%B8%8E%E8%81%94%E7%B3%BB/</a></p><hr><p>（先要知道）继承：<br>子类拥有父类的所有属性和方法（除了构造函数和析构函数）。</p><p>子类可以拥有父类没有的属性和方法。</p><hr><p>http模块：<br>eg;http.js</p><p>①在http模块下的createServer里面匿名函数是什么时候调用执行的<br>②函数的参数req和res是什么时候生成的</p><p>解：</p><p>源码：<a href="https://github.com/nodejs/node/tree/v0.12" target="_blank" rel="noopener">https://github.com/nodejs/node/tree/v0.12</a><br>node v0.12分支 http.js模块下的createServer方法</p><p>①在私有模块_http_server,js中的parseOnIncoming 方法里面调用执行了匿名函数<br>self.emit 触发了该匿名函数<br>②在parseOnIncoming 里面传入<br>1.”request”是http.IncomingMessage的一个实例<br>req不是在parseOnIncoming 生成,是在调用parseOnIncoming传入的</p><p>parser.onIncoming = parseOnIncoming </p><p>parser = parsers.alloc();</p><p>parers = common.parsers;<br>common 来自_http_common 模块</p><p>在_http_common 调用了onIncoming 传入的第一个参数就是req 即parse.incoming.</p><p>parse.incoming 是IncomingMessage的一个实例</p><p>即req是IncomingMessage的一个实例<br>IncomingMessage 是私有模块_http_incoming下的IncomingMessage</p><p>2.”response”是http.ServerResponse的一个实例</p><p>私有模块_http_server里面的parseOnIncoming 生成ServerResponse的一个实例</p><p>ServerResponse继承自OutgoingMessage</p><p>即response 也是OutgoingMessage的一个实例</p><p>OutgoingMessage来自私有模块_http_outgoing.js, 模块中将OutgoingMessage作为接口暴露出去</p><p>OutgoingMessage继承自Stream，即为Stream（流）的一个子类</p><p>其实回调函数被执行了两次</p><p>另一次调用？<br>参考 net.js</p><p>关键字： 流  事件监听 调用 继承</p><hr><hr><p>如果还有时间：<br>网站接入QQ登录：<br>①connet.qq.com实名认证 获取 _get_user_info 接口<br>②设置回调页面，（登录之后返回的页面）<br>③在页面里面引入官方的js文件，触发登录窗口，等待用户授权<br>④授权后获取用户信息；其中最重要的是一个叫openId的信息</p><p>openId：腾讯为了区别不同用户，但又不想把用户的QQ账号透露出去，所以给每一个用户都<br>设置了一个openId来标识不同用户，此处我们可以获取登录者的openId</p><hr><p>作业：又一次调用在哪里？<br>愚人节快乐！</p><hr><p>以上为个人学习笔记，若发现错误或者有疑问可以一起探讨。</p>]]></content>
      
      <categories>
          
          <category> 梦创例会 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 梦创 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>梦创例会笔记（1）</title>
      <link href="/2018/04/28/%E4%BE%8B%E4%BC%9A%E7%AC%94%E8%AE%B0%EF%BC%881%EF%BC%89/"/>
      <url>/2018/04/28/%E4%BE%8B%E4%BC%9A%E7%AC%94%E8%AE%B0%EF%BC%881%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>一次例会</p><p>&lt;!–more-&gt;<br>nodejs安装：（windows）</p><p>32位node下载：<br><a href="https://nodejs.org/dist/v4.4.3/node-v4.4.3-x86.msi" target="_blank" rel="noopener">https://nodejs.org/dist/v4.4.3/node-v4.4.3-x86.msi</a></p><p>64位下载地址：</p><p><a href="https://nodejs.org/dist/v4.4.3/node-v4.4.3-x64.msi" target="_blank" rel="noopener">https://nodejs.org/dist/v4.4.3/node-v4.4.3-x64.msi</a></p><p>安装之后要找得到node.exe 所在位置。</p><hr><p>域名解析：<br>域名解析是把域名指向网站空间IP</p><p>①检查网络是否能够连通<br>ping 域名</p><p>eg:<br>ping baidu.com<br>ping 111.13.101.208</p><p>eg:<br>ping liyunhao.cn<br>ping 58.87.72.83</p><p>②计算机网络中在传输层用 IP地址+端口号 唯一标识进程：<br>eg：<br>localhost:3000 本地的3000端口 ==== 172.0.0.1:3000</p><hr><blockquote><p>腾讯云相关：  包括服务器的购买和域名解析相关。  —— <a href="http://blog.csdn.net/l1558198727/article/details/78752005" target="_blank"> [ CSDN]</a></p></blockquote><hr><blockquote><p>nodejs工程的建立：  —— <a href="http://blog.csdn.net/l1558198727/article/details/79342912" target="_blank"> [ CSDN]</a></p></blockquote><hr><p>nodejs概念的理解：<br>异步：<br>程序执行的顺序可能不与代码编写顺序一样</p><p>eg：yibu.js</p><p>回调函数：<br>将函数座位参数传递，在指定的地方进行调用。<br>eg：<br>callback.js</p><hr><p>*思考题：<br>在http.js 里面<br>①在http模块下的createServer里面匿名函数是什么时候调用执行的<br>②函数的参数req和res是什么时候生成的</p><p>解：</p><blockquote><p>源码    —— <a href="https://github.com/nodejs/node/tree/v0.12  " target="_blank"> [ github]</a></p></blockquote><p>node v0.12分支 http.js模块下的createServer方法</p><p>①在私有模块_http_server,js中的parseOnIncoming 方法里面调用执行了匿名函数<br>self.emit 触发了该匿名函数<br>②在parseOnIncoming 里面传入<br>1.”request”是http.IncomingMessage的一个实例<br>req不是在parseOnIncoming 生成,是在调用parseOnIncoming传入的</p><p>parser.onIncoming = parseOnIncoming </p><p>parser = parsers.alloc();</p><p>parers = common.parsers;<br>common 来自_http_common 模块</p><p>在_http_common 调用了onIncoming 传入的第一个参数就是req 即parse.incoming.</p><p>parse.incoming 是IncomingMessage的一个实例</p><p>即req是IncomingMessage的一个实例<br>IncomingMessage 是私有模块_http_incoming下的IncomingMessage</p><p>2.”response”是http.ServerResponse的一个实例</p><p>私有模块_http_server里面的parseOnIncoming 生成ServerResponse的一个实例</p><p>ServerResponse继承自OutgoingMessage</p><p>即response 也是OutgoingMessage的一个实例</p><p>OutgoingMessage来自私有模块_http_outgoing.js, 模块中将OutgoingMessage作为接口暴露出去</p><p>OutgoingMessage继承自Stream，即为Stream（流）的一个子类</p><p>其实回调函数被执行了两次</p><p>另一次调用？<br>参考 net.js</p><p>以上为个人学习笔记，若发现错误或者有疑问可以一起探讨。</p><hr>]]></content>
      
      <categories>
          
          <category> 后端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>开学</title>
      <link href="/2018/04/28/%E5%BC%80%E5%AD%A6/"/>
      <url>/2018/04/28/%E5%BC%80%E5%AD%A6/</url>
      <content type="html"><![CDATA[<p>&lt;!–more-&gt;</p><p><strong>开学第一天一切如故！</strong></p>]]></content>
      
      
        <tags>
            
            <tag> 开学 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>第一篇博客</title>
      <link href="/2018/04/28/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
      <url>/2018/04/28/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
      <content type="html"><![CDATA[<p>&lt;!–more-&gt;</p><p><strong>这是第一篇博客</strong></p><p>基本功能实现差<br> 终于可以发一篇文章了</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>大连理工大学软件学院数据结构第四章第九题</title>
      <link href="/2018/04/28/%E5%A4%A7%E8%BF%9E%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%AC%E5%9B%9B%E7%AB%A0%E7%AC%AC%E4%B9%9D%E9%A2%98/"/>
      <url>/2018/04/28/%E5%A4%A7%E8%BF%9E%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%AC%E5%9B%9B%E7%AB%A0%E7%AC%AC%E4%B9%9D%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>上机作业</p><!--more->/* 思想：利用拓扑排序来找图中的环，即离散数学中的w过程， 每次找到一条入度为零的边将其以及其所关联的边删除，  直到删除到环的时候再也进行不下去，此时将环中的任意  一个元素开始深度优先遍历即可。*/<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class Edge</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int start,end;//边的起始节点，终止节点</span><br><span class="line">    EdgeType weight;//边的权重（应该可以定义为int）</span><br><span class="line">    Edge()</span><br><span class="line">    &#123;</span><br><span class="line">       start=0;</span><br><span class="line">        end=0;</span><br><span class="line">        weight=0;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge(int st,int en,int w)</span><br><span class="line">    &#123;</span><br><span class="line">        start=st;</span><br><span class="line">        end=en;</span><br><span class="line">        weight=w;</span><br><span class="line">    &#125;</span><br><span class="line">    bool operator &gt; (Edge oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(weight&gt;oneEdge.weight)</span><br><span class="line">            return true;</span><br><span class="line">        else</span><br><span class="line">            return false;</span><br><span class="line">    &#125;</span><br><span class="line">    bool operator &lt; (Edge oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(weight&lt;oneEdge.weight)</span><br><span class="line">            return true;</span><br><span class="line">        else</span><br><span class="line">            return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class Graph</span><br><span class="line">&#123;</span><br><span class="line">    public:</span><br><span class="line">    int vertexNum; //图中节点个数</span><br><span class="line">    int edgeNum;   //图中边的个数</span><br><span class="line">    int * Mark;    //标记某节点是否被访问</span><br><span class="line">    Graph(int verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;vertexNum=verNum;</span><br><span class="line">        edgeNum=0;</span><br><span class="line">        Mark=new int[vertexNum];</span><br><span class="line">        for(int i=0;i&lt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Mark[i]=0; //都没有被访问过</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~Graph()</span><br><span class="line">    &#123;</span><br><span class="line">        delete [] Mark;</span><br><span class="line">    &#125;</span><br><span class="line">    //virtual Edge&lt;EdgeType&gt; FirstEdge(int oneVertex)=0;</span><br><span class="line">    //virtual Edge&lt;EdgeType&gt; NextEdge(Edge&lt;EdgeType&gt; oneEdge)=0;</span><br><span class="line">    int verticesNum()</span><br><span class="line">    &#123;</span><br><span class="line">        return vertexNum;</span><br><span class="line">    &#125;</span><br><span class="line">    int EdgesNum()</span><br><span class="line">    &#123;</span><br><span class="line">        return edgeNum;</span><br><span class="line">    &#125;</span><br><span class="line">    bool isEdge(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(oneEdge.end&gt;=0 &amp;&amp; oneEdge.start&gt;=0 &amp;&amp; oneEdge.weight&gt;0 &amp;&amp; oneEdge.start!=oneEdge.end)//判断条件还不清楚</span><br><span class="line">        &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    int startOfVertex(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.start;</span><br><span class="line">    &#125;</span><br><span class="line">    int endOfVertex(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.end;</span><br><span class="line">    &#125;</span><br><span class="line">    EdgeType weight(Edge&lt;EdgeType&gt; oneEdge) //返回oneEdge的权重</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.weight;</span><br><span class="line">    &#125;</span><br><span class="line">    //virtual void setEdge(int start,int end,int weight)=0;</span><br><span class="line">    //virtual void deleteEdge(int start,int end)=0;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class AdjGraph : public Graph&lt;EdgeType &gt;</span><br><span class="line">&#123;</span><br><span class="line"> private:</span><br><span class="line">    int ** matrix;</span><br><span class="line"> public:</span><br><span class="line">    AdjGraph(int verNum):Graph&lt;EdgeType&gt;(verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        matrix =new int * [verNum];</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [verNum];</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">          for(int j=0;j&lt;verNum;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i][j]=999;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    AdjGraph(int verNum,int **  a):Graph&lt;EdgeType&gt;(verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        matrix =new int * [verNum];</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [verNum];</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">          for(int j=0;j&lt;verNum;j++)</span><br><span class="line">          &#123;</span><br><span class="line"></span><br><span class="line">            matrix[i][j]=a[i][j];</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    EdgeType getIJ(int i,int j)</span><br><span class="line">    &#123;</span><br><span class="line">        if(i&lt;this-&gt;vertexNum &amp;&amp; i&gt;=0 &amp;&amp; j&lt;this-&gt;vertexNum &amp;&amp; j&gt;=0)</span><br><span class="line">        return matrix[i][j];</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;&quot;邻接矩阵越界&quot;&lt;&lt;endl;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    int EdgesNum()</span><br><span class="line">    &#123;</span><br><span class="line">        int edgeNum=0;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            for(int j=0;j&lt;this-&gt;vertexNum;j++)</span><br><span class="line">                if(matrix[i][j]&lt;999)</span><br><span class="line">                    edgeNum++;</span><br><span class="line">        &#125;</span><br><span class="line">        this-&gt;edgeNum=edgeNum;</span><br><span class="line">        return edgeNum;</span><br><span class="line">    &#125;</span><br><span class="line">    void disp()</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">        cout&lt;&lt;&quot;此图的领接矩阵为&quot;&lt;&lt;endl;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">           for(int j=0;j&lt;this-&gt;vertexNum;j++)</span><br><span class="line">           &#123;</span><br><span class="line">             cout&lt;&lt;matrix[i][j]&lt;&lt;&quot; &quot;;</span><br><span class="line">           &#125;</span><br><span class="line">            cout&lt;&lt;endl;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~AdjGraph()</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [this-&gt;vertexNum];</span><br><span class="line">        &#125;</span><br><span class="line">        delete [] matrix;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge&lt;EdgeType&gt; FirstEdge(int oneVer) //返回顶点的第一条边</span><br><span class="line">    &#123;</span><br><span class="line">        Edge&lt;EdgeType&gt; tem;</span><br><span class="line">        tem.start=oneVer;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(matrix[oneVer][i]&lt;999)</span><br><span class="line">            &#123;</span><br><span class="line">                tem.end=i;</span><br><span class="line">                tem.weight=matrix[oneVer][i];</span><br><span class="line">                return tem;</span><br><span class="line">                //break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        tem.weight=-1;</span><br><span class="line">        tem.end=tem.start=0;</span><br><span class="line">        //cout&lt;&lt;&quot;没有符合条件的边&quot;&lt;&lt;endl;</span><br><span class="line">        return tem;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Edge&lt;EdgeType&gt; NextEdge(Edge&lt;EdgeType&gt; oneEdge)//返回与oneEdg有相同起点的下一条边</span><br><span class="line">    &#123;</span><br><span class="line">        Edge&lt;EdgeType&gt; tem;</span><br><span class="line">        tem.start=oneEdge.start;</span><br><span class="line">        for(int i=oneEdge.end+1;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">              if(matrix[oneEdge.start][i]&lt;999)</span><br><span class="line">              &#123;</span><br><span class="line">                 tem.end=i;</span><br><span class="line">                 tem.weight=matrix[oneEdge.start][i];</span><br><span class="line">                 return tem;</span><br><span class="line">              &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        tem.weight=-1;</span><br><span class="line">        //cout&lt;&lt;&quot;没有符合条件的边&quot;&lt;&lt;endl;</span><br><span class="line">        return tem;</span><br><span class="line">    &#125;</span><br><span class="line">    void visit(int i)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;i&lt;&lt;&quot; &quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //深度优先搜索</span><br><span class="line">    void DFS(int i)//从i号节点开始深度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;Mark[i]=1;</span><br><span class="line">        //cout&lt;&lt;&quot;zhe次从这里开始深度遍历&quot;&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">        visit(i);</span><br><span class="line">        for(Edge&lt;EdgeType&gt; e=FirstEdge(i);this-&gt;isEdge(e);e=NextEdge(e))</span><br><span class="line">        &#123;</span><br><span class="line">             if(this-&gt;Mark[e.end]==0)</span><br><span class="line">             &#123;</span><br><span class="line">                 //cout&lt;&lt;&quot;下次从这里开始深度遍历&quot;&lt;&lt;e.end&lt;&lt;endl;</span><br><span class="line">               DFS(e.end);</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    void DFSGraph()//对图进行深度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        this-&gt;Mark[i]=0;  //标记都未访问</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(this-&gt;Mark[i]==0)</span><br><span class="line">            &#123;</span><br><span class="line">                DFS(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    //广度优先搜索</span><br><span class="line">    void BFS(int i)//从i号节点开始广度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        queue&lt;int&gt; que;</span><br><span class="line">        que.push(i);</span><br><span class="line">        visit(i);</span><br><span class="line">        this-&gt;Mark[i]=1;</span><br><span class="line">        int p;</span><br><span class="line">        while(!que.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            p=que.front();</span><br><span class="line">            que.pop();</span><br><span class="line">            this-&gt;Mark[p]=1;</span><br><span class="line">            for(Edge&lt;EdgeType&gt; e=FirstEdge(p);this-&gt;isEdge(e);e=NextEdge(e))</span><br><span class="line">            &#123;</span><br><span class="line">                if(this-&gt;Mark[e.end]==0)</span><br><span class="line">                &#123;//此处要注意，在节点入队时候就要将Mark置为已访问，否则可能会导致同一节点多次入队</span><br><span class="line">                  visit(e.end);</span><br><span class="line">                  this-&gt;Mark[e.end]=1;</span><br><span class="line">                  que.push(e.end);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void BFSGraph()//对图进行广度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        this-&gt;Mark[i]=0;  //标记都未访问</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(this-&gt;Mark[i]==0)</span><br><span class="line">            &#123;</span><br><span class="line">                BFS(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//拓扑排序，判断图中是否有环，并输出一个环</span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">void TopuSortJudeIsExitCricle(AdjGraph&lt;EdgeType&gt;&amp; G,int * SortArray)//从S出发生成最短路径</span><br><span class="line">&#123;</span><br><span class="line">        int n=G.verticesNum();</span><br><span class="line">        int * inderGree= new int [n];</span><br><span class="line">        for(int i=0;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            G.Mark[i]=0;</span><br><span class="line">            inderGree[i]=0;</span><br><span class="line">            SortArray[i]=-1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for(int i=0;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">          for(Edge&lt;EdgeType&gt; e = G.FirstEdge(i);G.isEdge(e);e=G.NextEdge(e))</span><br><span class="line">          &#123;</span><br><span class="line">             //cout&lt;&lt;&quot;e的开头&quot;&lt;&lt;e.start&lt;&lt;endl;</span><br><span class="line">             //cout&lt;&lt;&quot;e的结尾&quot;&lt;&lt;e.end&lt;&lt;endl;</span><br><span class="line">             inderGree[e.end]++;</span><br><span class="line">          &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         cout&lt;&lt;&quot;inder数组&quot;&lt;&lt;endl;</span><br><span class="line">         for(int j=0;j&lt;n;j++)</span><br><span class="line">         &#123;</span><br><span class="line">             cout&lt;&lt;inderGree[j]&lt;&lt;&quot; &quot;;</span><br><span class="line">         &#125;</span><br><span class="line">         cout&lt;&lt;endl;</span><br><span class="line">        for(int i=0;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            int v;</span><br><span class="line">            for(v=0;v&lt;n;v++)</span><br><span class="line">            &#123;</span><br><span class="line">                if(inderGree[v]==0 &amp;&amp; G.Mark[v]==0)</span><br><span class="line">                &#123;</span><br><span class="line">                    cout&lt;&lt;&quot;入度为零的点为&quot;&lt;&lt;v&lt;&lt;endl;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if(v==n)</span><br><span class="line">            &#123;</span><br><span class="line">                cout&lt;&lt;&quot;图中存在环&quot;&lt;&lt;endl;</span><br><span class="line">                cout&lt;&lt;&quot;此时的mark数组&quot;&lt;&lt;endl;</span><br><span class="line">                for(int j=0;j&lt;n;j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    cout&lt;&lt;G.Mark[j]&lt;&lt;&quot; &quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                cout&lt;&lt;endl;</span><br><span class="line">                for(int j=0;j&lt;n;j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    if(G.Mark[j]==0)</span><br><span class="line">                    &#123;</span><br><span class="line">                        cout&lt;&lt;&quot;环从这里开始&quot;&lt;&lt;j&lt;&lt;endl;</span><br><span class="line">                        G.DFS(j);</span><br><span class="line">                        cout&lt;&lt;endl;</span><br><span class="line">                        return;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            G.Mark[v]=1;</span><br><span class="line">            SortArray[i]=v;</span><br><span class="line"></span><br><span class="line">            for(Edge&lt;EdgeType&gt; e = G.FirstEdge(v);G.isEdge(e);e=G.NextEdge(e))</span><br><span class="line">            &#123;</span><br><span class="line">              inderGree[e.end]--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            delete [] inderGree;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //课本p170的图</span><br><span class="line">    int tem[6][6]=&#123;</span><br><span class="line">        &#123;999,  1,  1,  1,  1,  1&#125;,</span><br><span class="line">        &#123;999,999,1  ,999,999,999&#125;,</span><br><span class="line">        &#123;999,999,999,999,1  ,999&#125;,</span><br><span class="line">        &#123;999,999,1  ,999,999,999&#125;,</span><br><span class="line">        &#123;999,999,999,1  ,999,999&#125;,</span><br><span class="line">        &#123;999,999,999,999,1  ,999&#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    int n=6;</span><br><span class="line">    int ** a=new int *[n];</span><br><span class="line">    for(int i=0;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i]=new int [n];</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=0;i&lt;n;i++)</span><br><span class="line">      for(int j=0;j&lt;n;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i][j]=tem[i][j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    AdjGraph&lt;int&gt; p(n,a);</span><br><span class="line">    p.disp();</span><br><span class="line">    cout&lt;&lt;&quot;深度优先搜索&quot;&lt;&lt;endl;</span><br><span class="line">    p.DFSGraph();</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;&quot;广度优先搜索&quot;&lt;&lt;endl;</span><br><span class="line">    p.BFSGraph();</span><br><span class="line"></span><br><span class="line">    int sortArray[n];</span><br><span class="line">    TopuSortJudeIsExitCricle(p,sortArray);</span><br><span class="line">    cout&lt;&lt;&quot;拓扑序列为&quot;&lt;&lt;endl;</span><br><span class="line">    for(int i=0;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        if(sortArray[i]&gt;0)</span><br><span class="line">        cout&lt;&lt;sortArray[i]&lt;&lt;&quot; &quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>-->]]></content>
      
      <categories>
          
          <category> 数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Part3000IsAlreadyInUse</title>
      <link href="/2018/04/28/Part3000IsAlreadyInUse/"/>
      <url>/2018/04/28/Part3000IsAlreadyInUse/</url>
      <content type="html"><![CDATA[<p>debug</p><!--more->我们在使用webstorm的时候会经常遇到这样的情况，出现这种情况的原因：**①当我们同时在一个端口运行一个项目，再同时在这个端口运行其他项目时****②同一个项目未停止直接关闭webstorm窗口，再次打开项目运行时**这时有一个万能的办法，那就是**重启电脑**，哈哈！**~~**开玩笑了，当然，这个端口上的进程是可以停掉的。打开cmd键入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -o -n -a | findstr :3000</span><br></pre></td></tr></table></figure><p>3000为端口号，可以改为其他的。</p><p>之后可以看到3000端口的进程：<img src="http://img.blog.csdn.net/20180221151309633?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p><p>之后键入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">taskkill /F /PID 1776</span><br></pre></td></tr></table></figure><p>则可以停掉对应序号的进程。之后再运行工程就不会有这种情况了。</p>-->]]></content>
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Node.js-Notes</title>
      <link href="/2018/04/28/node/"/>
      <url>/2018/04/28/node/</url>
      <content type="html"><![CDATA[<p>node简介</p><!--more-># Node.js-Notes个人的 Node.js 学习笔记，有兴趣的小伙伴可以了解下，希望能帮到你们。### 目录1. [Introduction](#introduction)    - [简介](#简介)    - [特点](#特点)    - [适合开发领域](#适合开发领域)    - [总结](#总结)2. [安装Node.js](#install-nodejs)3. [NPM node.js 模块管理](#npm-nodejs-模块管理)        - [NPM简介](#npm简介)    - [NPM常用命令](#npm常用命令)4. [开始第一个 node.js web 实例](#开始第一个-nodejs-web-实例)5. [node.js 回调函数](#nodejs-回调函数)    - [1. 同步操作文件(阻塞I/O)](#1-同步操作文件阻塞io)         - [2. 异步操作文件(非阻塞I/O)](#2-异步操作文件非阻塞io)6. [Node.js 事件循环](#nodejs-事件循环)    - [自定义模块](#自定义模块)7. [Node.js 函数](#nodejs-函数)    - [常用函数](#常用函数)    - [匿名函数](#匿名函数)8. [Node.js 路由](#nodejs-路由)9. [Node.js 全局对象](#nodejs-全局对象)    - [__filename](#__filename)    - [__dirname](#__dirname)    - [console](#console)    - [process](#process)10. [Node.js 常用工具](#nodejs-常用工具)    - [util.inspect 将任意对象转换 为字符串](#utilinspect-将任意对象转换-为字符串)    - [util.isArray() 判断是否是数组](#utilisarray-判断是否是数组)    - [util.isBoolean() 判断是否是boolean类型的](#utilisboolean-判断是否是boolean类型的)    - [util.isDate() 判断是否是日期](#utilisdate-判断是否是日期)    - [util.isFunction() 判断是否是函数](#utilisfunction-判断是否是函数)    - [util.isObject() 判断是否是对象](#utilisobject-判断是否是对象)    - [util.isRegExp() 是否是正则对象](#utilisregexp-是否是正则对象)11. [文件系统](#文件系统)    - [读文件内容](#读文件内容)        - [1. 异步非堵塞读取](#1-异步非堵塞读取)        - [2. 同步堵塞读取](#2-同步堵塞读取)    - [写文件内容](#写文件内容)    - [删除文件](#删除文件)    - [创建目录](#创建目录)    - [删除目录](#删除目录)12. [GET和POST请求](#get和post请求)    - [GET请求](#get请求)    - [POST请求](#post请求)13. [工具模块](#工具模块)    - [OS模块](#os模块)    - [Path模块](#path模块)    - [Net模块](#net模块)    - [DNS模块](#dns模块)    - [Domain模块](#domain模块)14. [MySql](#mysql)    - [查询数据](#查询数据)    - [插入数据](#插入数据)    - [更新数据](#更新数据)    - [删除数据](#删除数据)15. [HTTP模块](#http模块)16. [静态文件夹](#静态文件夹)# Introduction## 简介 > Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。<br> Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。<br> Node.js 的包管理器 npm，是全球最大的开源库生态系统。## 特点### 单线程![单线程](http://i.imgur.com/aX2lBae.png)> 在Java、PHP或者.net等服务器端语言中，会为每一个客户端连接创建一个新的线程。而每个线程需要耗费大约2MB内存。也就是说，理论上，一个8GB内存的服务器可以同时连接的最大用户数为4000个左右。要让Web应用程序支持更多的用户，就需要增加服务器的数量，而Web应用程序的硬件成本当然就上升了。<br>Node.js不为每个客户连接创建一个新的线程，而仅仅使用一个线程。当有用户连接了，就触发一个内部事件，通过非阻塞I/O、事件驱动机制，让Node.js程序宏观上也是并行的。使用Node.js，一个8GB内存的服务器，可以同时处理超过4万用户的连接。<br>另外，带线程的带来的好处，还有操作系统完全不再有线程创建、销毁的时间开销。坏处，就是一个用户造成了线程的崩溃，整个服务都崩溃了，其他人也崩溃了。### 非阻塞I/O non-blocking I/O > 例如，当在访问数据库取得数据的时候，需要一段时间。在传统的单线程处理机制中，在执行了访问数据库代码之后，整个线程都将暂停下来，等待数据库返回结果，才能执行后面的代码。也就是说，I/O阻塞了代码的执行，极大地降低了程序的执行效率。<br>由于Node.js中采用了非阻塞型I/O机制，因此在执行了访问数据库的代码之后，将立即转而执行其后面的代码，把数据库返回结果的处理代码放在回调函数中，从而提高了程序的执行效率。<br>当某个I/O执行完毕时，将以事件的形式通知执行I/O操作的线程，线程执行这个事件的回调函数。为了处理异步I/O，线程必须有事件循环，不断的检查有没有未处理的事件，依次予以处理。<br>阻塞模式下，一个线程只能处理一项任务，要想提高吞吐量必须通过多线程。而非阻塞模式下，一个线程永远在执行计算操作，这个线程的CPU核心利用率永远是100%。所以，这是一种特别有哲理的解决方案：与其人多，但是好多人闲着；还不如一个人玩命，往死里干活儿。### 事件驱动 event-driven> 在Node中，客户端请求建立连接，提交数据等行为，会触发相应的事件。在Node中，在一个时刻，只能执行一个事件回调函数，但是在执行一个事件回调函数的中途，可以转而处理其他事件（比如，又有新用户连接了），然后返回继续执行原事件的回调函数，这种处理机制，称为“事件环”机制。<br>Node.js底层是C++（V8也是C++写的）。底层代码中，近半数都用于事件队列、回调函数队列的构建。用事件驱动来完成服务器的任务调度，这是鬼才才能想到的。针尖上的舞蹈，用一个线程，担负起了处理非常多的任务的使命。## 适合开发领域> Node.js 善于I/O，不善于计算。因为Node.js最擅长的就是任务调度，如果你的业务有很多的CPU计算，实际上也相当于这个计算阻塞了这个单线程，就不适合Node开发。<br>> 当应用程序需要处理大量并发的I/O，而在向客户端发出响应之前，应用程序内部并不需要进行非常复杂的处理的时候，Node.js非常适合。Node.js也非常适合与web socket配合，开发长连接的实时交互应用程序。<br>> 比如:<br>> - 用户表单收集> - 考试系统> - 聊天室> - 图文直播> - 提供JSON的API（为前台Angular使用）## 总结![原理图](http://i.imgur.com/DPHgbYn.png)> 单线程，单线程的好处，减少了内存开销，操作系统的内存换页。如果某一个事情，进入了，但是被I/O阻塞了，所以这个线程就阻塞了。<br>> 非阻塞I/O， 不会傻等I/O语句结束，而会执行后面的语句。<br>> 事件机制，事件环，不管是新用户的请求，还是老用户的I/O完成，都将以事件方式加入事件环，等待调度。# Install Node.js1. 下载node.js    前往[https://nodejs.org/en/](https://nodejs.org/en/ "https://nodejs.org/en/")下载node.js稳定版    ![下载稳定版](http://i.imgur.com/1byvubu.png)2. 安装环境(windows 7 64位环境下)    - 一直Next就可以了    ![安装](http://i.imgur.com/gRew5uL.png)    - 在终端直接查看node.js的版本，查询到即安装成功    ![安装完成](http://i.imgur.com/awvnLdR.png)3. 结合Sublime开发    - 创建新的编译环境      ![创建新编译环境](http://i.imgur.com/IDga1Cv.png)    - 在里面写入    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">"cmd"</span>: [<span class="string">"node"</span>, <span class="string">"<span class="variable">$file</span>"</span>],</span><br><span class="line"><span class="string">"selector"</span>: <span class="string">"source.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>- 保存并重命名![保存并重命名](http://i.imgur.com/Jzs3iNo.png)- 写一个js文件，输出Hello World.按Ctrl+B进行编译，如果无反应，请重启sublime，出现Hello World即为成功![sublime](http://i.imgur.com/LXs03iI.png)</code></pre><h1 id="NPM-node-js-模块管理"><a href="#NPM-node-js-模块管理" class="headerlink" title="NPM node.js 模块管理"></a>NPM node.js 模块管理</h1><h2 id="NPM简介"><a href="#NPM简介" class="headerlink" title="NPM简介"></a>NPM简介</h2><blockquote><p>NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：</p><ul><li>允许用户从NPM服务器下载别人编写的第三方包到本地使用。</li><li>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。</li><li>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。</li></ul></blockquote><h2 id="NPM常用命令"><a href="#NPM常用命令" class="headerlink" title="NPM常用命令"></a>NPM常用命令</h2><ol><li><code>npm list</code><br> 查看本地模块</li><li><code>npm install mysql</code><br> 安装mysql模块</li><li><code>npm uninstall mysql</code><br> 卸载mysql模块</li><li><code>npm root</code><br> 本地模块根目录</li><li><code>npm root -g</code><br> 本服务器所有模块根目录</li><li><code>npm update mysql</code><br> 升级mysql模块</li><li><code>npm search mysql</code><br> 搜索mysql模块</li><li><code>npm -help &lt;command&gt;</code><br> 查看帮助</li></ol><h1 id="开始第一个-node-js-web-实例"><a href="#开始第一个-node-js-web-实例" class="headerlink" title="开始第一个 node.js web 实例"></a>开始第一个 node.js web 实例</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载http web模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line">cs = <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="comment">//设置head头</span></span><br><span class="line">res.writeHead(<span class="string">'200'</span>,&#123;<span class="string">'content-type'</span>:<span class="string">'text/html;charset=utf-8'</span>&#125;);</span><br><span class="line"><span class="comment">//给客户端返回内容</span></span><br><span class="line">res.write(<span class="string">'hello world! Gavin first Node.js Web'</span>); </span><br><span class="line">res.end();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//监听端口</span></span><br><span class="line">http.createServer(cs).listen(<span class="number">666</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'http is ok'</span>);</span><br></pre></td></tr></table></figure><p><img src="http://i.imgur.com/uqEFm2H.png" alt="第一个web应用"></p><h1 id="node-js-回调函数"><a href="#node-js-回调函数" class="headerlink" title="node.js 回调函数"></a>node.js 回调函数</h1><blockquote><p>Node.js 异步编程的直接体现就是回调。<br>异步编程依托于回调来实现，但不能说使用了回调后程序就异步化了。<br>回调函数在完成任务后就会被调用，Node 使用了大量的回调函数，Node 所有 API 都支持回调函数。<br>例如，我们可以一边读取文件，一边执行其他命令，在文件读取完成后，我们将文件内容作为回调函数的参数返回。这样在执行代码时就没有阻塞或等待文件 I/O 操作。这就大大提高了 Node.js 的性能，可以处理大量的并发请求。</p></blockquote><h2 id="1-同步操作文件-阻塞I-O"><a href="#1-同步操作文件-阻塞I-O" class="headerlink" title="1. 同步操作文件(阻塞I/O)"></a>1. 同步操作文件(阻塞I/O)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载fs file 模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">"test.txt"</span>;</span><br><span class="line"><span class="comment">//开始读取文件</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'file start'</span>);</span><br><span class="line"><span class="comment">//正在读取文件</span></span><br><span class="line">data = fs.readFileSync(file);</span><br><span class="line"><span class="built_in">console</span>.log(data.toString());</span><br><span class="line"><span class="comment">//读取文件结束</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'file end！'</span>);</span><br></pre></td></tr></table></figure><p><img src="http://i.imgur.com/PuaItru.png" alt="同步操作文件"></p><h2 id="2-异步操作文件-非阻塞I-O"><a href="#2-异步操作文件-非阻塞I-O" class="headerlink" title="2. 异步操作文件(非阻塞I/O)"></a>2. 异步操作文件(非阻塞I/O)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载fs file 模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">"test.txt"</span>;</span><br><span class="line"><span class="comment">//开始读取文件</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'file start'</span>);</span><br><span class="line"><span class="comment">//正在读取文件</span></span><br><span class="line"><span class="comment">//自带事件(当文件内容读取完毕时)</span></span><br><span class="line">fs.readFile(file,<span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//读取文件结束</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'file end！'</span>);</span><br></pre></td></tr></table></figure><p><img src="http://i.imgur.com/kX5fFsu.png" alt="异步操作文件"></p><h1 id="Node-js-事件循环"><a href="#Node-js-事件循环" class="headerlink" title="Node.js 事件循环"></a>Node.js 事件循环</h1><blockquote><p>Node.js 是单进程单线程应用程序，但是通过事件和回调支持并发，所以性能非常高。<br><br>Node.js 的每一个 API 都是异步的，并作为一个独立线程运行，使用异步函数调用，并处理并发。<br><br>Node.js 基本上所有的事件机制都是用设计模式中观察者模式实现。<br><br>Node.js 单线程类似进入一个while(true)的事件循环，直到没有事件观察者退出，每个异步事件都生成一个事件观察者，如果有事件发生就调用该回调函数.<br></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> events = <span class="built_in">require</span>(<span class="string">'events'</span>);</span><br><span class="line">evt = <span class="keyword">new</span> events.EventEmitter();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">eventHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'run'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//当触发eventName时，调用eventHandler</span></span><br><span class="line">evt.on(<span class="string">'eventName'</span>,eventHandler);</span><br><span class="line"><span class="comment">//触发eventName</span></span><br><span class="line">evt.emit(<span class="string">'eventName'</span>);</span><br></pre></td></tr></table></figure><h1 id="Node-js-模块"><a href="#Node-js-模块" class="headerlink" title="Node.js 模块"></a>Node.js 模块</h1><blockquote><p>为了让Node.js的文件可以相互调用，Node.js提供了一个简单的模块系统。<br><br>模块是Node.js 应用程序的基本组成部分，文件和模块是一一对应的。换言之，一个 Node.js 文件就是一个模块，这个文件可能是JavaScript 代码、JSON 或者编译过的C/C++ 扩展。</p></blockquote><h2 id="自定义模块"><a href="#自定义模块" class="headerlink" title="自定义模块"></a>自定义模块</h2><p>在demo.js同级目录下创建show.js，编写模块代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义show模块</span></span><br><span class="line"><span class="comment">// 定义show类</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'user'</span>;</span><br><span class="line"><span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'my name is '</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">new</span> show();</span><br></pre></td></tr></table></figure></p><p>在demo.js文件中调用我们自定义的show模块<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用自定义模块</span></span><br><span class="line"><span class="keyword">const</span> show = <span class="built_in">require</span>(<span class="string">'./show'</span>);</span><br><span class="line">show.say();</span><br></pre></td></tr></table></figure></p><h1 id="Node-js-函数"><a href="#Node-js-函数" class="headerlink" title="Node.js 函数"></a>Node.js 函数</h1><h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'show'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'show'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Node-js-路由"><a href="#Node-js-路由" class="headerlink" title="Node.js 路由"></a>Node.js 路由</h1><p>自己写个路由，一般实际应用大多是直接用框架<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</span><br><span class="line">cs = <span class="function"><span class="keyword">function</span>(<span class="params">request,res</span>)</span>&#123;</span><br><span class="line">urlStr = request.url; <span class="comment">//获取访问url路径字符串</span></span><br><span class="line">urlPath = url.parse(urlStr).pathname; <span class="comment">//转换url路径</span></span><br><span class="line">res.writeHead(<span class="string">'200'</span>,&#123;<span class="string">'content-type'</span>:<span class="string">'text/html;charset=utf-8'</span>&#125;);</span><br><span class="line"><span class="keyword">switch</span> (urlPath) &#123; <span class="comment">//选择页面</span></span><br><span class="line"><span class="keyword">case</span> <span class="string">'/index'</span>:</span><br><span class="line">res.write(<span class="string">'index page'</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'/add'</span>:</span><br><span class="line">res.write(<span class="string">'add page'</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'/delete'</span>:</span><br><span class="line">res.write(<span class="string">'delete page'</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'/update'</span>:</span><br><span class="line">res.write(<span class="string">'update page'</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'/sreach'</span>:</span><br><span class="line">res.write(<span class="string">'sreach'</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">res.write(<span class="string">'undefined page'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"访问的url路径:"</span>+urlPath);</span><br><span class="line">res.end();</span><br><span class="line">&#125;</span><br><span class="line">http.createServer(cs).listen(<span class="number">666</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server Is Running Successfully!'</span>);</span><br></pre></td></tr></table></figure></p><p><img src="http://i.imgur.com/NAGU7hj.png" alt="路由"></p><h1 id="Node-js-全局对象"><a href="#Node-js-全局对象" class="headerlink" title="Node.js 全局对象"></a>Node.js 全局对象</h1><h2 id="filename"><a href="#filename" class="headerlink" title="__filename"></a>__filename</h2><p>本文件全路径<br><br><code>console.log(__filename);</code><br><br>输出：D:\NodeWorkSpace\demo.js</p><h2 id="dirname"><a href="#dirname" class="headerlink" title="__dirname"></a>__dirname</h2><p>表示当前执行脚本所在的目录。<br><br><code>console.log(__dirname);</code><br><br>输出：D:\NodeWorkSpace</p><h2 id="console"><a href="#console" class="headerlink" title="console"></a>console</h2><ol><li><code>console.log</code> 向标准输出流打印字符并以换行符结束</li><li><code>console.info</code> 该命令的作用是返回信息性消息，这个命令与console.log差别并不大，除了在chrome中只会输出文字外，其余的会显示一个蓝色的惊叹号。</li><li><code>console.warn</code> 输出警告消息。控制台出现有黄色的惊叹号。</li><li><code>console.error</code> 输出错误消息的。控制台在出现错误时会显示是红色的叉子。</li><li><code>console.time</code>输出时间，表示计时开始。</li><li><code>console.timeEnd</code>结束时间，表示计时结束</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"log"</span>);</span><br><span class="line"><span class="built_in">console</span>.info(<span class="string">"information"</span>);</span><br><span class="line"><span class="built_in">console</span>.warn(<span class="string">"warn"</span>);</span><br><span class="line"><span class="built_in">console</span>.error(<span class="string">"error"</span>);</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">'x'</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">100000</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'x'</span>);</span><br></pre></td></tr></table></figure><p><img src="http://i.imgur.com/pMfXeKB.png" alt="console"></p><h2 id="process"><a href="#process" class="headerlink" title="process"></a>process</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ol><li><code>stdout</code> 标准输出流。</li><li><code>stderr</code> 标准错误流。</li><li><code>stdin</code> 标准输入流。</li><li><code>argv</code> argv 属性返回一个数组，由命令行执行脚本时的各个参数组成。它的第一个成员总是node，第二个成员是脚本文件名，其余成员是脚本文件的参数。</li><li><code>execPath</code> 返回执行当前脚本的 Node 二进制文件的绝对路径。</li><li><code>execArgv</code> 返回一个数组，成员是命令行下执行脚本时，在Node可执行文件与脚本文件之间的命令行参数。</li><li><code>env</code> 返回一个对象，成员为当前 shell 的环境变量</li><li><code>exitCode</code> 进程退出时的代码，如果进程优通过 process.exit() 退出，不需要指定退出码。</li><li><code>version</code> Node 的版本，比如v0.10.18。</li><li><code>versions</code> 一个属性，包含了 node 的版本和依赖.</li><li><code>config</code> 一个包含用来编译当前 node 执行文件的 javascript 配置选项的对象。它与运行 ./configure 脚本生成的 “config.gypi” 文件相同。</li><li><code>pid</code> 当前进程的进程号。</li><li><code>title</code> 进程名，默认值为”node”，可以自定义该值。</li><li><code>arch</code> 当前 CPU 的架构：’arm’、’ia32’ 或者 ‘x64’。</li><li><code>platform</code> 运行程序所在的平台系统 ‘darwin’, ‘freebsd’, ‘linux’, ‘sunos’ 或 ‘win32’</li><li><code>mainModule</code> require.main 的备选方法。不同点，如果主模块在运行时改变，require.main可能会继续返回老的模块。可以认为，这两者引用了同一个模块。</li></ol><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ol><li><code>abort()</code> 这将导致 node 触发 abort 事件。会让 node 退出并生成一个核心文件。</li><li><code>chdir(directory)</code> 改变当前工作进程的目录，如果操作失败抛出异常。</li><li><code>cwd()</code> 返回当前进程的工作目录</li><li><code>exit([code])</code> 使用指定的 code 结束进程。如果忽略，将会使用 code 0。</li><li><code>getgid()</code> 获取进程的群组标识（参见 getgid(2)）。获取到得时群组的数字 id，而不是名字。</li><li>注意：这个函数仅在 POSIX 平台上可用(例如，非Windows 和 Android)。</li><li><code>setgid(id)</code> 设置进程的群组标识（参见 setgid(2)）。可以接收数字 ID 或者群组名。如果指定了群组名，会阻塞等待解析为数字 ID 。</li><li>注意：这个函数仅在 POSIX 平台上可用(例如，非Windows 和 Android)。</li><li><code>getuid()</code> 获取进程的用户标识(参见 getuid(2))。这是数字的用户 id，不是用户名。</li><li>注意：这个函数仅在 POSIX 平台上可用(例如，非Windows 和 Android)。</li><li><code>setuid(id)</code> 设置进程的用户标识（参见setuid(2)）。接收数字 ID或字符串名字。果指定了群组名，会阻塞等待解析为数字 ID 。</li><li>注意：这个函数仅在 POSIX 平台上可用(例如，非Windows 和 Android)。</li><li><code>getgroups()</code> 返回进程的群组 iD 数组。POSIX 系统没有保证一定有，但是 node.js 保证有。</li><li>注意：这个函数仅在 POSIX 平台上可用(例如，非Windows 和 Android)。</li><li><code>setgroups(groups)</code> 设置进程的群组 ID。这是授权操作，所有你需要有 root 权限，或者有 CAP_SETGID 能力。</li><li>注意：这个函数仅在 POSIX 平台上可用(例如，非Windows 和 Android)。</li><li><code>initgroups(user, extra_group)</code> 读取 /etc/group ，并初始化群组访问列表，使用成员所在的所有群组。这是授权操作，所有你需要有 root 权限，或者有 CAP_SETGID 能力。</li><li>注意：这个函数仅在 POSIX 平台上可用(例如，非Windows 和 Android)。</li><li><code>kill(pid[, signal])</code> 发送信号给进程. pid 是进程id，并且 signal 是发送的信号的字符串描述。信号名是字符串，比如 ‘SIGINT’ 或 ‘SIGHUP’。如果忽略，信号会是 ‘SIGTERM’。</li><li><code>memoryUsage()</code> 返回一个对象，描述了 Node 进程所用的内存状况，单位为字节。</li><li><code>nextTick(callback)</code> 一旦当前事件循环结束，调用回到函数。</li><li><code>umask([mask])</code> 设置或读取进程文件的掩码。子进程从父进程继承掩码。如果mask 参数有效，返回旧的掩码。否则，返回当前掩码。</li><li><code>uptime()</code> 返回 Node 已经运行的秒数。</li><li><code>hrtime()</code> 返回当前进程的高分辨时间，形式为 [seconds, nanoseconds]数组。它是相对于过去的任意事件。该值与日期无关，因此不受时钟漂移的影响。主要用途是可以通过精确的时间间隔，来衡量程序的性能。你可以将之前的结果传递给当前的 process.hrtime() ，会返回两者间的时间差，用来基准和测量时间间隔。</li></ol><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">version = process.version;</span><br><span class="line"><span class="built_in">console</span>.log(version);</span><br><span class="line">cwd = process.cwd();</span><br><span class="line"><span class="built_in">console</span>.log(cwd);</span><br></pre></td></tr></table></figure><p>输出：<br>v6.11.0<br>D:\NodeWorkSpace</p><h1 id="Node-js-常用工具"><a href="#Node-js-常用工具" class="headerlink" title="Node.js 常用工具"></a>Node.js 常用工具</h1><ol><li><h3 id="util-inspect-将任意对象转换-为字符串"><a href="#util-inspect-将任意对象转换-为字符串" class="headerlink" title="util.inspect() 将任意对象转换 为字符串"></a><code>util.inspect()</code> 将任意对象转换 为字符串</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载模块</span></span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line">obj = &#123;<span class="string">'name'</span>:<span class="string">'Gavin'</span>,<span class="string">'sex'</span>:<span class="string">'male'</span>,<span class="string">'age'</span>:<span class="string">'16'</span>&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(obj));</span><br><span class="line"><span class="built_in">console</span>.log(util.inspect(obj));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(util.inspect(obj)));</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>输出：<br>object<br>{ name: ‘Gavin’, sex: ‘male’, age: ‘16’ }<br>string</p><ol start="2"><li><h3 id="util-isArray-判断是否是数组"><a href="#util-isArray-判断是否是数组" class="headerlink" title="util.isArray() 判断是否是数组"></a><code>util.isArray()</code> 判断是否是数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载模块</span></span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line">arr = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(util.isArray(arr));</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><p>输出：true</p><ol start="3"><li><h3 id="util-isBoolean-判断是否是boolean类型的"><a href="#util-isBoolean-判断是否是boolean类型的" class="headerlink" title="util.isBoolean() 判断是否是boolean类型的"></a><code>util.isBoolean()</code> 判断是否是boolean类型的</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载模块</span></span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line">obj = &#123;<span class="string">'name'</span>:<span class="string">'Gavin'</span>,<span class="string">'sex'</span>:<span class="string">'male'</span>,<span class="string">'age'</span>:<span class="string">'16'</span>&#125;</span><br><span class="line"><span class="built_in">console</span>.log(util.isBoolean(obj));</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><p>输出：false</p><ol start="4"><li><h3 id="util-isDate-判断是否是日期"><a href="#util-isDate-判断是否是日期" class="headerlink" title="util.isDate() 判断是否是日期"></a><code>util.isDate()</code> 判断是否是日期</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载模块</span></span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line">tobj = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(util.isDate(tobj))</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><p>输出：true</p><ol start="5"><li><h3 id="util-isFunction-判断是否是函数"><a href="#util-isFunction-判断是否是函数" class="headerlink" title="util.isFunction() 判断是否是函数"></a><code>util.isFunction()</code> 判断是否是函数</h3></li><li><h3 id="util-isObject-判断是否是对象"><a href="#util-isObject-判断是否是对象" class="headerlink" title="util.isObject() 判断是否是对象"></a><code>util.isObject()</code> 判断是否是对象</h3></li><li><h3 id="util-isRegExp-是否是正则对象"><a href="#util-isRegExp-是否是正则对象" class="headerlink" title="util.isRegExp() 是否是正则对象"></a><code>util.isRegExp()</code> 是否是正则对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载模块</span></span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(util.isRegExp(<span class="regexp">/^\d&#123;11&#125;$/ig</span>));</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><p>输出：true</p></blockquote><h1 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h1><blockquote><p>这里写个测试的文件<code>test.txt</code>内容如下<br>11111<br>22222<br>33333<br>44444<br>55555<br>66666</p></blockquote><h2 id="读文件内容"><a href="#读文件内容" class="headerlink" title="读文件内容"></a>读文件内容</h2><h3 id="1-异步非堵塞读取"><a href="#1-异步非堵塞读取" class="headerlink" title="1. 异步非堵塞读取"></a>1. 异步非堵塞读取</h3><blockquote><p>readFile();</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//加载文件模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">'test.txt'</span>;</span><br><span class="line"><span class="comment">//异步读取</span></span><br><span class="line">fs.readFile(file,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">str = data.toString();</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'file read end！'</span>);</span><br></pre></td></tr></table></figure><p><img src="http://i.imgur.com/DmcVEga.png" alt="异步"></p><h3 id="2-同步堵塞读取"><a href="#2-同步堵塞读取" class="headerlink" title="2. 同步堵塞读取"></a>2. 同步堵塞读取</h3><blockquote><p>readFileSync();</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载文件模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">'test.txt'</span>;</span><br><span class="line"><span class="comment">//同步读取</span></span><br><span class="line">data = fs.readFileSync(file);</span><br><span class="line">str = data.toString();</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br></pre></td></tr></table></figure><p><img src="http://i.imgur.com/koKPCZT.png" alt="同步读取"></p><h2 id="写文件内容"><a href="#写文件内容" class="headerlink" title="写文件内容"></a>写文件内容</h2><blockquote><p>writeFile();</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">'test1.txt'</span>;</span><br><span class="line">str  = <span class="string">"1111\n2222\n3333"</span>;</span><br><span class="line"><span class="comment">// 文件异步写入</span></span><br><span class="line">fs.writeFile(file,str);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'file write end！'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>因为之前没有file1.txt所以就创建了一个新的文件夹</p></blockquote><p><img src="http://i.imgur.com/cEqt4Iu.png" alt=""><br><br><img src="http://i.imgur.com/lcoO6Ym.png" alt="写入文件内容"></p><h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><blockquote><p>unlink();</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载文件模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">'test1.txt'</span>;</span><br><span class="line">fs.unlink(file);</span><br></pre></td></tr></table></figure><h2 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h2><blockquote><p>mkdir();</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载文件模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">'testdir'</span>;</span><br><span class="line">fs.mkdir(file);</span><br></pre></td></tr></table></figure><h2 id="删除目录"><a href="#删除目录" class="headerlink" title="删除目录"></a>删除目录</h2><blockquote><p>rmdir();</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载文件模块</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line">file = <span class="string">'testdir'</span>;</span><br><span class="line">fs.rmdir(file);</span><br></pre></td></tr></table></figure><h1 id="GET和POST请求"><a href="#GET和POST请求" class="headerlink" title="GET和POST请求"></a>GET和POST请求</h1><h2 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载web模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="comment">//加载url模块</span></span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</span><br><span class="line"><span class="comment">//加载querystring模块</span></span><br><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line"></span><br><span class="line">cs = <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">uri = req.url;</span><br><span class="line"><span class="keyword">if</span> (uri !== <span class="string">'/favicon.ico'</span>) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(uri);</span><br><span class="line"><span class="comment">// 获取get参数字符串</span></span><br><span class="line">str = url.parse(uri).query;</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br><span class="line"><span class="comment">// 将参数字符串转换为json对象</span></span><br><span class="line">json = querystring.parse(str);</span><br><span class="line"><span class="built_in">console</span>.log(json);</span><br><span class="line">res.write(<span class="string">'Gavin\' Web server !'</span>);</span><br><span class="line">res.end();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">http.createServer(cs).listen(<span class="number">666</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Http Is Running Successfully!'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>在浏览器输入url地址 <a href="http://localhost:666/index?id=1&amp;name=Gavin">http://localhost:666/index?id=1&amp;name=Gavin</a></p></blockquote><p><img src="http://i.imgur.com/Pi0Ciw2.png" alt=""><br><img src="http://i.imgur.com/47kM23w.png" alt=""></p><h2 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h2><blockquote><p>POST请求代码</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载web模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="comment">// 加载querystring模块</span></span><br><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line"><span class="comment">// 加载工具模块</span></span><br><span class="line"><span class="keyword">const</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line"><span class="comment">// 服务器回调函数</span></span><br><span class="line">cs = <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line"><span class="comment">// 定义了一个post变量，用于暂存请求体的信息</span></span><br><span class="line">    <span class="keyword">var</span> post = <span class="string">''</span>;     </span><br><span class="line">    <span class="comment">// 通过req的data事件监听函数，每当接受到请求体的数据，就累加到post变量中</span></span><br><span class="line">    req.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>)</span>&#123; </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"chunk:"</span>+chunk);   </span><br><span class="line">        post += chunk;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 在end事件触发后，通过querystring.parse将post解析为真正的POST请求格式，然后向客户端返回。</span></span><br><span class="line">    req.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    </span><br><span class="line">        post = querystring.parse(post);</span><br><span class="line">        res.end(util.inspect(post));</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">http.createServer(cs).listen(<span class="number">666</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Http Is Running Successfully!'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>POST请求测试页面</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Post请求测试页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://localhost:666/"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"Name"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>年龄：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"Age"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="http://i.imgur.com/cajISzH.png" alt=""><br><br><img src="http://i.imgur.com/yiDU9tI.png" alt=""><br><img src="http://i.imgur.com/T8vinq3.png" alt=""></p><h1 id="工具模块"><a href="#工具模块" class="headerlink" title="工具模块"></a>工具模块</h1><blockquote><p>一些基本的系统操作函数</p></blockquote><h2 id="OS模块"><a href="#OS模块" class="headerlink" title="OS模块"></a>OS模块</h2><h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><h4 id="os-tmpdir-返回操作系统的默认临时文件夹。"><a href="#os-tmpdir-返回操作系统的默认临时文件夹。" class="headerlink" title="os.tmpdir() 返回操作系统的默认临时文件夹。"></a><code>os.tmpdir()</code> 返回操作系统的默认临时文件夹。</h4><h4 id="os-endianness-返回-CPU-的字节序，可能的是-“BE”-或-“LE”。"><a href="#os-endianness-返回-CPU-的字节序，可能的是-“BE”-或-“LE”。" class="headerlink" title="os.endianness() 返回 CPU 的字节序，可能的是 “BE” 或 “LE”。"></a><code>os.endianness()</code> 返回 CPU 的字节序，可能的是 “BE” 或 “LE”。</h4><h4 id="os-hostname-返回操作系统的主机名。"><a href="#os-hostname-返回操作系统的主机名。" class="headerlink" title="os.hostname() 返回操作系统的主机名。"></a><code>os.hostname()</code> 返回操作系统的主机名。</h4><h4 id="os-type-返回操作系统名"><a href="#os-type-返回操作系统名" class="headerlink" title="os.type() 返回操作系统名"></a><code>os.type()</code> 返回操作系统名</h4><h4 id="os-platform-返回操作系统名"><a href="#os-platform-返回操作系统名" class="headerlink" title="os.platform() 返回操作系统名"></a><code>os.platform()</code> 返回操作系统名</h4><h4 id="os-arch-返回操作系统-CPU-架构，可能的值有-“x64”、”arm”-和-“ia32”。"><a href="#os-arch-返回操作系统-CPU-架构，可能的值有-“x64”、”arm”-和-“ia32”。" class="headerlink" title="os.arch() 返回操作系统 CPU 架构，可能的值有 “x64”、”arm” 和 “ia32”。"></a><code>os.arch()</code> 返回操作系统 CPU 架构，可能的值有 “x64”、”arm” 和 “ia32”。</h4><h4 id="os-release-返回操作系统的发行版本。"><a href="#os-release-返回操作系统的发行版本。" class="headerlink" title="os.release() 返回操作系统的发行版本。"></a><code>os.release()</code> 返回操作系统的发行版本。</h4><h4 id="os-uptime-返回操作系统运行的时间，以秒为单位。"><a href="#os-uptime-返回操作系统运行的时间，以秒为单位。" class="headerlink" title="os.uptime() 返回操作系统运行的时间，以秒为单位。"></a><code>os.uptime()</code> 返回操作系统运行的时间，以秒为单位。</h4><h4 id="os-loadavg-返回一个包含-1、5、15-分钟平均负载的数组。"><a href="#os-loadavg-返回一个包含-1、5、15-分钟平均负载的数组。" class="headerlink" title="os.loadavg() 返回一个包含 1、5、15 分钟平均负载的数组。"></a><code>os.loadavg()</code> 返回一个包含 1、5、15 分钟平均负载的数组。</h4><h4 id="os-totalmem-返回系统内存总量，单位为字节。"><a href="#os-totalmem-返回系统内存总量，单位为字节。" class="headerlink" title="os.totalmem() 返回系统内存总量，单位为字节。"></a><code>os.totalmem()</code> 返回系统内存总量，单位为字节。</h4><h4 id="os-freemem-返回操作系统空闲内存量，单位是字节。"><a href="#os-freemem-返回操作系统空闲内存量，单位是字节。" class="headerlink" title="os.freemem() 返回操作系统空闲内存量，单位是字节。"></a><code>os.freemem()</code> 返回操作系统空闲内存量，单位是字节。</h4><h4 id="os-cpus-返回一个对象数组，包含所安装的每个-CPU-内核的信息：型号、速度（单位-MHz）、时间（一个包含-user、nice、sys、idle-和-irq-所使用-CPU-内核毫秒数的对象）。"><a href="#os-cpus-返回一个对象数组，包含所安装的每个-CPU-内核的信息：型号、速度（单位-MHz）、时间（一个包含-user、nice、sys、idle-和-irq-所使用-CPU-内核毫秒数的对象）。" class="headerlink" title="os.cpus() 返回一个对象数组，包含所安装的每个 CPU/内核的信息：型号、速度（单位 MHz）、时间（一个包含 user、nice、sys、idle 和 irq 所使用 CPU/内核毫秒数的对象）。"></a><code>os.cpus()</code> 返回一个对象数组，包含所安装的每个 CPU/内核的信息：型号、速度（单位 MHz）、时间（一个包含 user、nice、sys、idle 和 irq 所使用 CPU/内核毫秒数的对象）。</h4><h4 id="os-networkInterfaces-获得网络接口列表。"><a href="#os-networkInterfaces-获得网络接口列表。" class="headerlink" title="os.networkInterfaces() 获得网络接口列表。"></a><code>os.networkInterfaces()</code> 获得网络接口列表。</h4><h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><h4 id="os-EOL-定义了操作系统的行尾符的常量。"><a href="#os-EOL-定义了操作系统的行尾符的常量。" class="headerlink" title="os.EOL 定义了操作系统的行尾符的常量。"></a><code>os.EOL</code> 定义了操作系统的行尾符的常量。</h4><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">'os'</span>);</span><br><span class="line"><span class="comment">// 返回操作系统的默认临时文件夹。</span></span><br><span class="line"><span class="built_in">console</span>.log(os.tmpdir()); </span><br><span class="line"><span class="comment">// 返回操作系统名</span></span><br><span class="line"><span class="built_in">console</span>.log(os.platform());</span><br></pre></td></tr></table></figure><blockquote><p>输出：<br>C:\Users\ADMINI~1\AppData\Local\Temp<br>win32</p></blockquote><h2 id="Path模块"><a href="#Path模块" class="headerlink" title="Path模块"></a>Path模块</h2><h3 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h3><h4 id="path-normalize-p-规范化路径，注意’-’-和-‘-’。"><a href="#path-normalize-p-规范化路径，注意’-’-和-‘-’。" class="headerlink" title="path.normalize(p) 规范化路径，注意’..’ 和 ‘.’。"></a><code>path.normalize(p)</code> 规范化路径，注意’..’ 和 ‘.’。</h4><h4 id="path-join-path1-path2-用于连接路径。该方法的主要用途在于，会正确使用当前系统的路径分隔符，Unix系统是”-“，Windows系统是”-”。"><a href="#path-join-path1-path2-用于连接路径。该方法的主要用途在于，会正确使用当前系统的路径分隔符，Unix系统是”-“，Windows系统是”-”。" class="headerlink" title="path.join([path1][, path2][, ...]) 用于连接路径。该方法的主要用途在于，会正确使用当前系统的路径分隔符，Unix系统是”/“，Windows系统是”\”。"></a><code>path.join([path1][, path2][, ...])</code> 用于连接路径。该方法的主要用途在于，会正确使用当前系统的路径分隔符，Unix系统是”/“，Windows系统是”\”。</h4><h4 id="path-resolve-from-to-将-to-参数解析为绝对路径。"><a href="#path-resolve-from-to-将-to-参数解析为绝对路径。" class="headerlink" title="path.resolve([from ...], to) 将 to 参数解析为绝对路径。"></a><code>path.resolve([from ...], to)</code> 将 to 参数解析为绝对路径。</h4><h4 id="path-isAbsolute-path-判断参数-path-是否是绝对路径。"><a href="#path-isAbsolute-path-判断参数-path-是否是绝对路径。" class="headerlink" title="path.isAbsolute(path) 判断参数 path 是否是绝对路径。"></a><code>path.isAbsolute(path)</code> 判断参数 path 是否是绝对路径。</h4><h4 id="path-relative-from-to-用于将相对路径转为绝对路径。"><a href="#path-relative-from-to-用于将相对路径转为绝对路径。" class="headerlink" title="path.relative(from, to) 用于将相对路径转为绝对路径。"></a><code>path.relative(from, to)</code> 用于将相对路径转为绝对路径。</h4><h4 id="path-dirname-p-返回路径中代表文件夹的部分，同-Unix-的dirname-命令类似。"><a href="#path-dirname-p-返回路径中代表文件夹的部分，同-Unix-的dirname-命令类似。" class="headerlink" title="path.dirname(p) 返回路径中代表文件夹的部分，同 Unix 的dirname 命令类似。"></a><code>path.dirname(p)</code> 返回路径中代表文件夹的部分，同 Unix 的dirname 命令类似。</h4><h4 id="path-basename-p-ext-返回路径中的最后一部分。同-Unix-命令-bashname-类似。"><a href="#path-basename-p-ext-返回路径中的最后一部分。同-Unix-命令-bashname-类似。" class="headerlink" title="path.basename(p[, ext]) 返回路径中的最后一部分。同 Unix 命令 bashname 类似。"></a><code>path.basename(p[, ext])</code> 返回路径中的最后一部分。同 Unix 命令 bashname 类似。</h4><h4 id="path-extname-p-返回路径中文件的后缀名，即路径中最后一个’-’之后的部分。如果一个路径中并不包含’-’或该路径只包含一个’-’-且这个’-’为路径的第一个字符，则此命令返回空字符串。"><a href="#path-extname-p-返回路径中文件的后缀名，即路径中最后一个’-’之后的部分。如果一个路径中并不包含’-’或该路径只包含一个’-’-且这个’-’为路径的第一个字符，则此命令返回空字符串。" class="headerlink" title="path.extname(p) 返回路径中文件的后缀名，即路径中最后一个’.’之后的部分。如果一个路径中并不包含’.’或该路径只包含一个’.’ 且这个’.’为路径的第一个字符，则此命令返回空字符串。"></a><code>path.extname(p)</code> 返回路径中文件的后缀名，即路径中最后一个’.’之后的部分。如果一个路径中并不包含’.’或该路径只包含一个’.’ 且这个’.’为路径的第一个字符，则此命令返回空字符串。</h4><h4 id="path-parse-pathString-返回路径字符串的对象。"><a href="#path-parse-pathString-返回路径字符串的对象。" class="headerlink" title="path.parse(pathString) 返回路径字符串的对象。"></a><code>path.parse(pathString)</code> 返回路径字符串的对象。</h4><h4 id="path-format-pathObject-从对象中返回路径字符串，和-path-parse-相反。"><a href="#path-format-pathObject-从对象中返回路径字符串，和-path-parse-相反。" class="headerlink" title="path.format(pathObject) 从对象中返回路径字符串，和 path.parse 相反。"></a><code>path.format(pathObject)</code> 从对象中返回路径字符串，和 path.parse 相反。</h4><h3 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h3><h4 id="path-sep-平台的文件路径分隔符，’-‘-或-‘-‘。"><a href="#path-sep-平台的文件路径分隔符，’-‘-或-‘-‘。" class="headerlink" title="path.sep 平台的文件路径分隔符，’\‘ 或 ‘/‘。"></a><code>path.sep</code> 平台的文件路径分隔符，’\‘ 或 ‘/‘。</h4><h4 id="path-delimiter-平台的分隔符-or-‘-’"><a href="#path-delimiter-平台的分隔符-or-‘-’" class="headerlink" title="path.delimiter 平台的分隔符, ; or ‘:’."></a><code>path.delimiter</code> 平台的分隔符, ; or ‘:’.</h4><h4 id="path-posix-提供上述-path-的方法，不过总是以-posix-兼容的方式交互。"><a href="#path-posix-提供上述-path-的方法，不过总是以-posix-兼容的方式交互。" class="headerlink" title="path.posix 提供上述 path 的方法，不过总是以 posix 兼容的方式交互。"></a><code>path.posix</code> 提供上述 path 的方法，不过总是以 posix 兼容的方式交互。</h4><h4 id="path-win32-提供上述-path-的方法，不过总是以-win32-兼容的方式交互"><a href="#path-win32-提供上述-path-的方法，不过总是以-win32-兼容的方式交互" class="headerlink" title="path.win32 提供上述 path 的方法，不过总是以 win32 兼容的方式交互"></a><code>path.win32</code> 提供上述 path 的方法，不过总是以 win32 兼容的方式交互</h4><h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="comment">// 判断是否是绝对路径</span></span><br><span class="line"><span class="built_in">console</span>.log(path.isAbsolute(<span class="string">"C:/\Users/\ADMINI~1/\AppData/\Local/\Temp/\test.txt"</span>));</span><br><span class="line"><span class="comment">//返回路径中文件的后缀名</span></span><br><span class="line"><span class="built_in">console</span>.log(path.extname(<span class="string">"C:/\Users/\ADMINI~1/\AppData/\Local/\Temp/\test.txt"</span>));</span><br><span class="line"><span class="comment">//平台的分隔符</span></span><br><span class="line"><span class="built_in">console</span>.log(path.delimiter);</span><br></pre></td></tr></table></figure><blockquote><p>输出<br>true<br>.txt<br>;</p></blockquote><h2 id="Net模块"><a href="#Net模块" class="headerlink" title="Net模块"></a>Net模块</h2><h3 id="方法-3"><a href="#方法-3" class="headerlink" title="方法"></a>方法</h3><h4 id="net-createServer-options-connectionListener-创建一个-TCP-服务器。参数-connectionListener-自动给-‘connection’-事件创建监听器。"><a href="#net-createServer-options-connectionListener-创建一个-TCP-服务器。参数-connectionListener-自动给-‘connection’-事件创建监听器。" class="headerlink" title="net.createServer([options][, connectionListener]) 创建一个 TCP 服务器。参数 connectionListener 自动给 ‘connection’ 事件创建监听器。"></a><code>net.createServer([options][, connectionListener])</code> 创建一个 TCP 服务器。参数 connectionListener 自动给 ‘connection’ 事件创建监听器。</h4><h4 id="net-connect-options-connectionListener-返回一个新的-‘net-Socket’，并连接到指定的地址和端口。"><a href="#net-connect-options-connectionListener-返回一个新的-‘net-Socket’，并连接到指定的地址和端口。" class="headerlink" title="net.connect(options[, connectionListener]) 返回一个新的 ‘net.Socket’，并连接到指定的地址和端口。"></a><code>net.connect(options[, connectionListener])</code> 返回一个新的 ‘net.Socket’，并连接到指定的地址和端口。</h4><p>当 socket 建立的时候，将会触发 ‘connect’ 事件。</p><h4 id="net-createConnection-options-connectionListener-创建一个到端口-port-和-主机-host的-TCP-连接。-host-默认为-‘localhost’。"><a href="#net-createConnection-options-connectionListener-创建一个到端口-port-和-主机-host的-TCP-连接。-host-默认为-‘localhost’。" class="headerlink" title="net.createConnection(options[, connectionListener]) 创建一个到端口 port 和 主机 host的 TCP 连接。 host 默认为 ‘localhost’。"></a><code>net.createConnection(options[, connectionListener])</code> 创建一个到端口 port 和 主机 host的 TCP 连接。 host 默认为 ‘localhost’。</h4><h4 id="net-connect-port-host-connectListener-创建一个端口为-port-和主机为-host的-TCP-连接-。host-默认为-‘localhost’。参数-connectListener-将会作为监听器添加到-‘connect’-事件。返回-‘net-Socket’。"><a href="#net-connect-port-host-connectListener-创建一个端口为-port-和主机为-host的-TCP-连接-。host-默认为-‘localhost’。参数-connectListener-将会作为监听器添加到-‘connect’-事件。返回-‘net-Socket’。" class="headerlink" title="net.connect(port[, host][, connectListener]) 创建一个端口为 port 和主机为 host的 TCP 连接 。host 默认为 ‘localhost’。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件。返回 ‘net.Socket’。"></a><code>net.connect(port[, host][, connectListener])</code> 创建一个端口为 port 和主机为 host的 TCP 连接 。host 默认为 ‘localhost’。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件。返回 ‘net.Socket’。</h4><h4 id="net-createConnection-port-host-connectListener-创建一个端口为-port-和主机为-host的-TCP-连接-。host-默认为-‘localhost’。参数-connectListener-将会作为监听器添加到-‘connect’-事件。返回-‘net-Socket’。"><a href="#net-createConnection-port-host-connectListener-创建一个端口为-port-和主机为-host的-TCP-连接-。host-默认为-‘localhost’。参数-connectListener-将会作为监听器添加到-‘connect’-事件。返回-‘net-Socket’。" class="headerlink" title="net.createConnection(port[, host][, connectListener]) 创建一个端口为 port 和主机为 host的 TCP 连接 。host 默认为 ‘localhost’。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件。返回 ‘net.Socket’。"></a><code>net.createConnection(port[, host][, connectListener])</code> 创建一个端口为 port 和主机为 host的 TCP 连接 。host 默认为 ‘localhost’。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件。返回 ‘net.Socket’。</h4><h4 id="net-connect-path-connectListener-创建连接到-path-的-unix-socket-。参数-connectListener-将会作为监听器添加到-‘connect’-事件上。返回-‘net-Socket’。"><a href="#net-connect-path-connectListener-创建连接到-path-的-unix-socket-。参数-connectListener-将会作为监听器添加到-‘connect’-事件上。返回-‘net-Socket’。" class="headerlink" title="net.connect(path[, connectListener]) 创建连接到 path 的 unix socket 。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件上。返回 ‘net.Socket’。"></a><code>net.connect(path[, connectListener])</code> 创建连接到 path 的 unix socket 。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件上。返回 ‘net.Socket’。</h4><h4 id="net-createConnection-path-connectListener-创建连接到-path-的-unix-socket-。参数-connectListener-将会作为监听器添加到-‘connect’-事件。返回-‘net-Socket’。"><a href="#net-createConnection-path-connectListener-创建连接到-path-的-unix-socket-。参数-connectListener-将会作为监听器添加到-‘connect’-事件。返回-‘net-Socket’。" class="headerlink" title="net.createConnection(path[, connectListener]) 创建连接到 path 的 unix socket 。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件。返回 ‘net.Socket’。"></a><code>net.createConnection(path[, connectListener])</code> 创建连接到 path 的 unix socket 。参数 connectListener 将会作为监听器添加到 ‘connect’ 事件。返回 ‘net.Socket’。</h4><h4 id="net-isIP-input-检测输入的是否为-IP-地址。-IPV4-返回-4，-IPV6-返回-6，其他情况返回-0。"><a href="#net-isIP-input-检测输入的是否为-IP-地址。-IPV4-返回-4，-IPV6-返回-6，其他情况返回-0。" class="headerlink" title="net.isIP(input) 检测输入的是否为 IP 地址。 IPV4 返回 4， IPV6 返回 6，其他情况返回 0。"></a><code>net.isIP(input)</code> 检测输入的是否为 IP 地址。 IPV4 返回 4， IPV6 返回 6，其他情况返回 0。</h4><h4 id="net-isIPv4-input-如果输入的地址为-IPV4，-返回-true，否则返回-false。"><a href="#net-isIPv4-input-如果输入的地址为-IPV4，-返回-true，否则返回-false。" class="headerlink" title="net.isIPv4(input) 如果输入的地址为 IPV4， 返回 true，否则返回 false。"></a><code>net.isIPv4(input)</code> 如果输入的地址为 IPV4， 返回 true，否则返回 false。</h4><h4 id="net-isIPv6-input-如果输入的地址为-IPV6，-返回-true，否则返回-false。"><a href="#net-isIPv6-input-如果输入的地址为-IPV6，-返回-true，否则返回-false。" class="headerlink" title="net.isIPv6(input) 如果输入的地址为 IPV6， 返回 true，否则返回 false。"></a><code>net.isIPv6(input)</code> 如果输入的地址为 IPV6， 返回 true，否则返回 false。</h4><h3 id="net-Server"><a href="#net-Server" class="headerlink" title="net.Server"></a>net.Server</h3><blockquote><p>net.Server通常用于创建一个 TCP 或本地服务器</p></blockquote><h4 id="server-listen-port-host-backlog-callback-监听指定端口-port-和-主机-host-ac连接。-默认情况下-host-接受任何-IPv4-地址-INADDR-ANY-的直接连接。端口-port-为-0-时，则会分配一个随机端口。"><a href="#server-listen-port-host-backlog-callback-监听指定端口-port-和-主机-host-ac连接。-默认情况下-host-接受任何-IPv4-地址-INADDR-ANY-的直接连接。端口-port-为-0-时，则会分配一个随机端口。" class="headerlink" title="server.listen(port[, host][, backlog][, callback]) 监听指定端口 port 和 主机 host ac连接。 默认情况下 host 接受任何 IPv4 地址(INADDR_ANY)的直接连接。端口 port 为 0 时，则会分配一个随机端口。"></a><code>server.listen(port[, host][, backlog][, callback])</code> 监听指定端口 port 和 主机 host ac连接。 默认情况下 host 接受任何 IPv4 地址(INADDR_ANY)的直接连接。端口 port 为 0 时，则会分配一个随机端口。</h4><h4 id="server-listen-path-callback-通过指定-path-的连接，启动一个本地-socket-服务器。"><a href="#server-listen-path-callback-通过指定-path-的连接，启动一个本地-socket-服务器。" class="headerlink" title="server.listen(path[, callback]) 通过指定 path 的连接，启动一个本地 socket 服务器。"></a><code>server.listen(path[, callback])</code> 通过指定 path 的连接，启动一个本地 socket 服务器。</h4><h4 id="server-listen-handle-callback-通过指定句柄连接。"><a href="#server-listen-handle-callback-通过指定句柄连接。" class="headerlink" title="server.listen(handle[, callback]) 通过指定句柄连接。"></a><code>server.listen(handle[, callback])</code> 通过指定句柄连接。</h4><h4 id="server-listen-options-callback-options-的属性：端口-port-主机-host-和-backlog-以及可选参数-callback-函数-他们在一起调用server-listen-port-host-backlog-callback-。还有，参数-path-可以用来指定-UNIX-socket。"><a href="#server-listen-options-callback-options-的属性：端口-port-主机-host-和-backlog-以及可选参数-callback-函数-他们在一起调用server-listen-port-host-backlog-callback-。还有，参数-path-可以用来指定-UNIX-socket。" class="headerlink" title="server.listen(options[, callback]) options 的属性：端口 port, 主机 host, 和 backlog, 以及可选参数 callback 函数, 他们在一起调用server.listen(port, [host], [backlog], [callback])。还有，参数 path 可以用来指定 UNIX socket。"></a><code>server.listen(options[, callback])</code> options 的属性：端口 port, 主机 host, 和 backlog, 以及可选参数 callback 函数, 他们在一起调用server.listen(port, [host], [backlog], [callback])。还有，参数 path 可以用来指定 UNIX socket。</h4><h4 id="server-close-callback-服务器停止接收新的连接，保持现有连接。这是异步函数，当所有连接结束的时候服务器会关闭，并会触发-‘close’-事件。"><a href="#server-close-callback-服务器停止接收新的连接，保持现有连接。这是异步函数，当所有连接结束的时候服务器会关闭，并会触发-‘close’-事件。" class="headerlink" title="server.close([callback]) 服务器停止接收新的连接，保持现有连接。这是异步函数，当所有连接结束的时候服务器会关闭，并会触发 ‘close’ 事件。"></a><code>server.close([callback])</code> 服务器停止接收新的连接，保持现有连接。这是异步函数，当所有连接结束的时候服务器会关闭，并会触发 ‘close’ 事件。</h4><h4 id="server-address-操作系统返回绑定的地址，协议族名和服务器端口。"><a href="#server-address-操作系统返回绑定的地址，协议族名和服务器端口。" class="headerlink" title="server.address() 操作系统返回绑定的地址，协议族名和服务器端口。"></a><code>server.address()</code> 操作系统返回绑定的地址，协议族名和服务器端口。</h4><h4 id="server-unref-如果这是事件系统中唯一一个活动的服务器，调用-unref-将允许程序退出。"><a href="#server-unref-如果这是事件系统中唯一一个活动的服务器，调用-unref-将允许程序退出。" class="headerlink" title="server.unref() 如果这是事件系统中唯一一个活动的服务器，调用 unref 将允许程序退出。"></a><code>server.unref()</code> 如果这是事件系统中唯一一个活动的服务器，调用 unref 将允许程序退出。</h4><h4 id="server-ref-与-unref-相反，如果这是唯一的服务器，在之前被-unref-了的服务器上调用-ref-将不会让程序退出（默认行为）。如果服务器已经被-ref，则再次调用-ref-并不会产生影响。"><a href="#server-ref-与-unref-相反，如果这是唯一的服务器，在之前被-unref-了的服务器上调用-ref-将不会让程序退出（默认行为）。如果服务器已经被-ref，则再次调用-ref-并不会产生影响。" class="headerlink" title="server.ref() 与 unref 相反，如果这是唯一的服务器，在之前被 unref 了的服务器上调用 ref 将不会让程序退出（默认行为）。如果服务器已经被 ref，则再次调用 ref 并不会产生影响。"></a><code>server.ref()</code> 与 unref 相反，如果这是唯一的服务器，在之前被 unref 了的服务器上调用 ref 将不会让程序退出（默认行为）。如果服务器已经被 ref，则再次调用 ref 并不会产生影响。</h4><h4 id="server-getConnections-callback-异步获取服务器当前活跃连接的数量。当-socket-发送给子进程后才有效；回调函数有-2-个参数-err-和-count。"><a href="#server-getConnections-callback-异步获取服务器当前活跃连接的数量。当-socket-发送给子进程后才有效；回调函数有-2-个参数-err-和-count。" class="headerlink" title="server.getConnections(callback) 异步获取服务器当前活跃连接的数量。当 socket 发送给子进程后才有效；回调函数有 2 个参数 err 和 count。"></a><code>server.getConnections(callback)</code> 异步获取服务器当前活跃连接的数量。当 socket 发送给子进程后才有效；回调函数有 2 个参数 err 和 count。</h4><h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><h4 id="listening-当服务器调用-server-listen-绑定后会触发。"><a href="#listening-当服务器调用-server-listen-绑定后会触发。" class="headerlink" title="listening 当服务器调用 server.listen 绑定后会触发。"></a><code>listening</code> 当服务器调用 server.listen 绑定后会触发。</h4><h4 id="connection-当新连接创建后会被触发。socket-是-net-Socket实例。"><a href="#connection-当新连接创建后会被触发。socket-是-net-Socket实例。" class="headerlink" title="connection 当新连接创建后会被触发。socket 是 net.Socket实例。"></a><code>connection</code> 当新连接创建后会被触发。socket 是 net.Socket实例。</h4><h4 id="close-服务器关闭时会触发。注意，如果存在连接，这个事件不会被触发直到所有的连接关闭。"><a href="#close-服务器关闭时会触发。注意，如果存在连接，这个事件不会被触发直到所有的连接关闭。" class="headerlink" title="close 服务器关闭时会触发。注意，如果存在连接，这个事件不会被触发直到所有的连接关闭。"></a><code>close</code> 服务器关闭时会触发。注意，如果存在连接，这个事件不会被触发直到所有的连接关闭。</h4><h4 id="error-发生错误时触发。’close’-事件将被下列事件直接调用。"><a href="#error-发生错误时触发。’close’-事件将被下列事件直接调用。" class="headerlink" title="error 发生错误时触发。’close’ 事件将被下列事件直接调用。"></a><code>error</code> 发生错误时触发。’close’ 事件将被下列事件直接调用。</h4><h3 id="net-Socket"><a href="#net-Socket" class="headerlink" title="net.Socket"></a>net.Socket</h3><blockquote><p>net.Socket 对象是 TCP 或 UNIX Socket 的抽象。net.Socket 实例实现了一个双工流接口。 他们可以在用户创建客户端(使用 connect())时使用, 或者由 Node 创建它们，并通过 connection 服务器事件传递给用户。</p></blockquote><h3 id="net-Socket事件"><a href="#net-Socket事件" class="headerlink" title="net.Socket事件"></a>net.Socket事件</h3><h4 id="lookup-在解析域名后，但在连接前，触发这个事件。对-UNIX-sokcet-不适用。"><a href="#lookup-在解析域名后，但在连接前，触发这个事件。对-UNIX-sokcet-不适用。" class="headerlink" title="lookup 在解析域名后，但在连接前，触发这个事件。对 UNIX sokcet 不适用。"></a><code>lookup</code> 在解析域名后，但在连接前，触发这个事件。对 UNIX sokcet 不适用。</h4><h4 id="connect-成功建立-socket-连接时触发。"><a href="#connect-成功建立-socket-连接时触发。" class="headerlink" title="connect 成功建立 socket 连接时触发。"></a><code>connect</code> 成功建立 socket 连接时触发。</h4><h4 id="data-当接收到数据时触发。"><a href="#data-当接收到数据时触发。" class="headerlink" title="data 当接收到数据时触发。"></a><code>data</code> 当接收到数据时触发。</h4><h4 id="end-当-socket-另一端发送-FIN-包时，触发该事件。"><a href="#end-当-socket-另一端发送-FIN-包时，触发该事件。" class="headerlink" title="end 当 socket 另一端发送 FIN 包时，触发该事件。"></a><code>end</code> 当 socket 另一端发送 FIN 包时，触发该事件。</h4><h4 id="timeout-当-socket-空闲超时时触发，仅是表明-socket-已经空闲。用户必须手动关闭连接。"><a href="#timeout-当-socket-空闲超时时触发，仅是表明-socket-已经空闲。用户必须手动关闭连接。" class="headerlink" title="timeout 当 socket 空闲超时时触发，仅是表明 socket 已经空闲。用户必须手动关闭连接。"></a><code>timeout</code> 当 socket 空闲超时时触发，仅是表明 socket 已经空闲。用户必须手动关闭连接。</h4><h4 id="drain-当写缓存为空得时候触发。可用来控制上传。"><a href="#drain-当写缓存为空得时候触发。可用来控制上传。" class="headerlink" title="drain 当写缓存为空得时候触发。可用来控制上传。"></a><code>drain</code> 当写缓存为空得时候触发。可用来控制上传。</h4><h4 id="error-错误发生时触发。"><a href="#error-错误发生时触发。" class="headerlink" title="error 错误发生时触发。"></a><code>error</code> 错误发生时触发。</h4><h4 id="close-当-socket-完全关闭时触发。参数-had-error-是布尔值，它表示是否因为传输错误导致-socket-关闭。"><a href="#close-当-socket-完全关闭时触发。参数-had-error-是布尔值，它表示是否因为传输错误导致-socket-关闭。" class="headerlink" title="close 当 socket 完全关闭时触发。参数 had_error 是布尔值，它表示是否因为传输错误导致 socket 关闭。"></a><code>close</code> 当 socket 完全关闭时触发。参数 had_error 是布尔值，它表示是否因为传输错误导致 socket 关闭。</h4><h3 id="net-Socket属性"><a href="#net-Socket属性" class="headerlink" title="net.Socket属性"></a>net.Socket属性</h3><h4 id="socket-bufferSize-该属性显示了要写入缓冲区的字节数。"><a href="#socket-bufferSize-该属性显示了要写入缓冲区的字节数。" class="headerlink" title="socket.bufferSize 该属性显示了要写入缓冲区的字节数。"></a><code>socket.bufferSize</code> 该属性显示了要写入缓冲区的字节数。</h4><h4 id="socket-remoteAddress-远程的-IP-地址字符串，例如：’74-125-127-100’-or-‘2001-4860-a005-68’。"><a href="#socket-remoteAddress-远程的-IP-地址字符串，例如：’74-125-127-100’-or-‘2001-4860-a005-68’。" class="headerlink" title="socket.remoteAddress 远程的 IP 地址字符串，例如：’74.125.127.100’ or ‘2001:4860:a005::68’。"></a><code>socket.remoteAddress</code> 远程的 IP 地址字符串，例如：’74.125.127.100’ or ‘2001:4860:a005::68’。</h4><h4 id="socket-remoteFamily-远程IP协议族字符串，比如-‘IPv4’-or-‘IPv6’。"><a href="#socket-remoteFamily-远程IP协议族字符串，比如-‘IPv4’-or-‘IPv6’。" class="headerlink" title="socket.remoteFamily 远程IP协议族字符串，比如 ‘IPv4’ or ‘IPv6’。"></a><code>socket.remoteFamily</code> 远程IP协议族字符串，比如 ‘IPv4’ or ‘IPv6’。</h4><h4 id="socket-remotePort-远程端口，数字表示，例如：80-or-21。"><a href="#socket-remotePort-远程端口，数字表示，例如：80-or-21。" class="headerlink" title="socket.remotePort 远程端口，数字表示，例如：80 or 21。"></a><code>socket.remotePort</code> 远程端口，数字表示，例如：80 or 21。</h4><h4 id="socket-localAddress-网络连接绑定的本地接口-远程客户端正在连接的本地-IP-地址，字符串表示。例如，如果你在监听’0-0-0-0’而客户端连接在’192-168-1-1’，这个值就会是-‘192-168-1-1’。"><a href="#socket-localAddress-网络连接绑定的本地接口-远程客户端正在连接的本地-IP-地址，字符串表示。例如，如果你在监听’0-0-0-0’而客户端连接在’192-168-1-1’，这个值就会是-‘192-168-1-1’。" class="headerlink" title="socket.localAddress 网络连接绑定的本地接口 远程客户端正在连接的本地 IP 地址，字符串表示。例如，如果你在监听’0.0.0.0’而客户端连接在’192.168.1.1’，这个值就会是 ‘192.168.1.1’。"></a><code>socket.localAddress</code> 网络连接绑定的本地接口 远程客户端正在连接的本地 IP 地址，字符串表示。例如，如果你在监听’0.0.0.0’而客户端连接在’192.168.1.1’，这个值就会是 ‘192.168.1.1’。</h4><h4 id="socket-localPort-本地端口地址，数字表示。例如：80-or-21。"><a href="#socket-localPort-本地端口地址，数字表示。例如：80-or-21。" class="headerlink" title="socket.localPort 本地端口地址，数字表示。例如：80 or 21。"></a><code>socket.localPort</code> 本地端口地址，数字表示。例如：80 or 21。</h4><h4 id="socket-bytesRead-接收到得字节数。"><a href="#socket-bytesRead-接收到得字节数。" class="headerlink" title="socket.bytesRead 接收到得字节数。"></a><code>socket.bytesRead</code> 接收到得字节数。</h4><h4 id="socket-bytesWritten-发送的字节数。"><a href="#socket-bytesWritten-发送的字节数。" class="headerlink" title="socket.bytesWritten 发送的字节数。"></a><code>socket.bytesWritten</code> 发送的字节数。</h4><h3 id="net-Socket方法"><a href="#net-Socket方法" class="headerlink" title="net.Socket方法"></a>net.Socket方法</h3><h4 id="new-net-Socket-options-构造一个新的-socket-对象。"><a href="#new-net-Socket-options-构造一个新的-socket-对象。" class="headerlink" title="new net.Socket([options]) 构造一个新的 socket 对象。"></a><code>new net.Socket([options])</code> 构造一个新的 socket 对象。</h4><h4 id="socket-connect-port-host-connectListener-指定端口-port-和-主机-host，创建-socket-连接-。参数-host-默认为-localhost。通常情况不需要使用-net-createConnection-打开-socket。只有你实现了自己的-socket-时才会用到。"><a href="#socket-connect-port-host-connectListener-指定端口-port-和-主机-host，创建-socket-连接-。参数-host-默认为-localhost。通常情况不需要使用-net-createConnection-打开-socket。只有你实现了自己的-socket-时才会用到。" class="headerlink" title="socket.connect(port[, host][, connectListener]) 指定端口 port 和 主机 host，创建 socket 连接 。参数 host 默认为 localhost。通常情况不需要使用 net.createConnection 打开 socket。只有你实现了自己的 socket 时才会用到。"></a><code>socket.connect(port[, host][, connectListener])</code> 指定端口 port 和 主机 host，创建 socket 连接 。参数 host 默认为 localhost。通常情况不需要使用 net.createConnection 打开 socket。只有你实现了自己的 socket 时才会用到。</h4><h4 id="socket-connect-path-connectListener-打开指定路径的-unix-socket。通常情况不需要使用-net-createConnection-打开-socket。只有你实现了自己的-socket-时才会用到。"><a href="#socket-connect-path-connectListener-打开指定路径的-unix-socket。通常情况不需要使用-net-createConnection-打开-socket。只有你实现了自己的-socket-时才会用到。" class="headerlink" title="socket.connect(path[, connectListener]) 打开指定路径的 unix socket。通常情况不需要使用 net.createConnection 打开 socket。只有你实现了自己的 socket 时才会用到。"></a><code>socket.connect(path[, connectListener])</code> 打开指定路径的 unix socket。通常情况不需要使用 net.createConnection 打开 socket。只有你实现了自己的 socket 时才会用到。</h4><h4 id="socket-setEncoding-encoding-设置编码"><a href="#socket-setEncoding-encoding-设置编码" class="headerlink" title="socket.setEncoding([encoding]) 设置编码"></a><code>socket.setEncoding([encoding])</code> 设置编码</h4><h4 id="socket-write-data-encoding-callback-在-socket-上发送数据。第二个参数指定了字符串的编码，默认是-UTF8-编码。"><a href="#socket-write-data-encoding-callback-在-socket-上发送数据。第二个参数指定了字符串的编码，默认是-UTF8-编码。" class="headerlink" title="socket.write(data[, encoding][, callback]) 在 socket 上发送数据。第二个参数指定了字符串的编码，默认是 UTF8 编码。"></a><code>socket.write(data[, encoding][, callback])</code> 在 socket 上发送数据。第二个参数指定了字符串的编码，默认是 UTF8 编码。</h4><h4 id="socket-end-data-encoding-半关闭-socket。例如，它发送一个-FIN-包。可能服务器仍在发送数据。"><a href="#socket-end-data-encoding-半关闭-socket。例如，它发送一个-FIN-包。可能服务器仍在发送数据。" class="headerlink" title="socket.end([data][, encoding]) 半关闭 socket。例如，它发送一个 FIN 包。可能服务器仍在发送数据。"></a><code>socket.end([data][, encoding])</code> 半关闭 socket。例如，它发送一个 FIN 包。可能服务器仍在发送数据。</h4><h4 id="socket-destroy-确保没有-I-O-活动在这个套接字上。只有在错误发生情况下才需要。（处理错误等等）。"><a href="#socket-destroy-确保没有-I-O-活动在这个套接字上。只有在错误发生情况下才需要。（处理错误等等）。" class="headerlink" title="socket.destroy() 确保没有 I/O 活动在这个套接字上。只有在错误发生情况下才需要。（处理错误等等）。"></a><code>socket.destroy()</code> 确保没有 I/O 活动在这个套接字上。只有在错误发生情况下才需要。（处理错误等等）。</h4><h4 id="socket-pause-暂停读取数据。就是说，不会再触发-data-事件。对于控制上传非常有用。"><a href="#socket-pause-暂停读取数据。就是说，不会再触发-data-事件。对于控制上传非常有用。" class="headerlink" title="socket.pause() 暂停读取数据。就是说，不会再触发 data 事件。对于控制上传非常有用。"></a><code>socket.pause()</code> 暂停读取数据。就是说，不会再触发 data 事件。对于控制上传非常有用。</h4><h4 id="socket-resume-调用-pause-后想恢复读取数据。"><a href="#socket-resume-调用-pause-后想恢复读取数据。" class="headerlink" title="socket.resume() 调用 pause() 后想恢复读取数据。"></a><code>socket.resume()</code> 调用 pause() 后想恢复读取数据。</h4><h4 id="socket-setTimeout-timeout-callback-socket-闲置时间超过-timeout-毫秒后-，将-socket-设置为超时。"><a href="#socket-setTimeout-timeout-callback-socket-闲置时间超过-timeout-毫秒后-，将-socket-设置为超时。" class="headerlink" title="socket.setTimeout(timeout[, callback]) socket 闲置时间超过 timeout 毫秒后 ，将 socket 设置为超时。"></a><code>socket.setTimeout(timeout[, callback])</code> socket 闲置时间超过 timeout 毫秒后 ，将 socket 设置为超时。</h4><h4 id="socket-setNoDelay-noDelay-禁用纳格（Nagle）算法。默认情况下-TCP-连接使用纳格算法，在发送前他们会缓冲数据。将-noDelay-设置为-true-将会在调用-socket-write-时立即发送数据。noDelay-默认值为-true。"><a href="#socket-setNoDelay-noDelay-禁用纳格（Nagle）算法。默认情况下-TCP-连接使用纳格算法，在发送前他们会缓冲数据。将-noDelay-设置为-true-将会在调用-socket-write-时立即发送数据。noDelay-默认值为-true。" class="headerlink" title="socket.setNoDelay([noDelay]) 禁用纳格（Nagle）算法。默认情况下 TCP 连接使用纳格算法，在发送前他们会缓冲数据。将 noDelay 设置为 true 将会在调用 socket.write() 时立即发送数据。noDelay 默认值为 true。"></a><code>socket.setNoDelay([noDelay])</code> 禁用纳格（Nagle）算法。默认情况下 TCP 连接使用纳格算法，在发送前他们会缓冲数据。将 noDelay 设置为 true 将会在调用 socket.write() 时立即发送数据。noDelay 默认值为 true。</h4><h4 id="socket-setKeepAlive-enable-initialDelay-禁用-启用长连接功能，并在发送第一个在闲置-socket-上的长连接-probe-之前，可选地设定初始延时。默认为-false。-设定-initialDelay-（毫秒），来设定收到的最后一个数据包和第一个长连接probe之间的延时。将-initialDelay-设为0，将会保留默认（或者之前）的值。默认值为0"><a href="#socket-setKeepAlive-enable-initialDelay-禁用-启用长连接功能，并在发送第一个在闲置-socket-上的长连接-probe-之前，可选地设定初始延时。默认为-false。-设定-initialDelay-（毫秒），来设定收到的最后一个数据包和第一个长连接probe之间的延时。将-initialDelay-设为0，将会保留默认（或者之前）的值。默认值为0" class="headerlink" title="socket.setKeepAlive([enable][, initialDelay]) 禁用/启用长连接功能，并在发送第一个在闲置 socket 上的长连接 probe 之前，可选地设定初始延时。默认为 false。 设定 initialDelay （毫秒），来设定收到的最后一个数据包和第一个长连接probe之间的延时。将 initialDelay 设为0，将会保留默认（或者之前）的值。默认值为0."></a><code>socket.setKeepAlive([enable][, initialDelay])</code> 禁用/启用长连接功能，并在发送第一个在闲置 socket 上的长连接 probe 之前，可选地设定初始延时。默认为 false。 设定 initialDelay （毫秒），来设定收到的最后一个数据包和第一个长连接probe之间的延时。将 initialDelay 设为0，将会保留默认（或者之前）的值。默认值为0.</h4><h4 id="socket-address-操作系统返回绑定的地址，协议族名和服务器端口。返回的对象有-3-个属性，比如-port-12346-family-‘IPv4’-address-‘127-0-0-1’-。"><a href="#socket-address-操作系统返回绑定的地址，协议族名和服务器端口。返回的对象有-3-个属性，比如-port-12346-family-‘IPv4’-address-‘127-0-0-1’-。" class="headerlink" title="socket.address() 操作系统返回绑定的地址，协议族名和服务器端口。返回的对象有 3 个属性，比如{ port: 12346, family: ‘IPv4’, address: ‘127.0.0.1’ }。"></a><code>socket.address()</code> 操作系统返回绑定的地址，协议族名和服务器端口。返回的对象有 3 个属性，比如{ port: 12346, family: ‘IPv4’, address: ‘127.0.0.1’ }。</h4><h4 id="socket-unref-如果这是事件系统中唯一一个活动的服务器，调用-unref-将允许程序退出。如果服务器已被-unref，则再次调用-unref-并不会产生影响。"><a href="#socket-unref-如果这是事件系统中唯一一个活动的服务器，调用-unref-将允许程序退出。如果服务器已被-unref，则再次调用-unref-并不会产生影响。" class="headerlink" title="socket.unref() 如果这是事件系统中唯一一个活动的服务器，调用 unref 将允许程序退出。如果服务器已被 unref，则再次调用 unref 并不会产生影响。"></a><code>socket.unref()</code> 如果这是事件系统中唯一一个活动的服务器，调用 unref 将允许程序退出。如果服务器已被 unref，则再次调用 unref 并不会产生影响。</h4><h4 id="socket-ref-与-unref-相反，如果这是唯一的服务器，在之前被-unref-了的服务器上调用-ref-将不会让程序退出（默认行为）。如果服务器已经被-ref，则再次调用-ref-并不会产生影响。"><a href="#socket-ref-与-unref-相反，如果这是唯一的服务器，在之前被-unref-了的服务器上调用-ref-将不会让程序退出（默认行为）。如果服务器已经被-ref，则再次调用-ref-并不会产生影响。" class="headerlink" title="socket.ref() 与 unref 相反，如果这是唯一的服务器，在之前被 unref 了的服务器上调用 ref 将不会让程序退出（默认行为）。如果服务器已经被 ref，则再次调用 ref 并不会产生影响。"></a><code>socket.ref()</code> 与 unref 相反，如果这是唯一的服务器，在之前被 unref 了的服务器上调用 ref 将不会让程序退出（默认行为）。如果服务器已经被 ref，则再次调用 ref 并不会产生影响。</h4><h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><blockquote><p>Telnet 服务器实例</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">'net'</span>);</span><br><span class="line">chat = net.createServer();</span><br><span class="line"><span class="comment">//但客户端连接时</span></span><br><span class="line">chat.on(<span class="string">'connection'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">client</span>)</span>&#123;</span><br><span class="line"><span class="comment">// 给客户端发送Hello World</span></span><br><span class="line">client.write(<span class="string">'hello world'</span>);</span><br><span class="line"><span class="comment">// 当接收到发来信息时</span></span><br><span class="line">client.on(<span class="string">'data'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(data.toString());</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">chat.listen(<span class="number">9000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'server ok'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>在Windows Dos界面(cmd)，输入: telnet 127.0.0.1 9000</p></blockquote><p><img src="http://i.imgur.com/MD3nyZv.png" alt="Telnet服务器实例"></p><h2 id="DNS模块"><a href="#DNS模块" class="headerlink" title="DNS模块"></a>DNS模块</h2><h3 id="方法-4"><a href="#方法-4" class="headerlink" title="方法"></a>方法</h3><h4 id="dns-lookup-hostname-options-callback-将域名（比如-‘runoob-com’）解析为第一条找到的记录-A-（IPV4）或-AAAA-IPV6-。参数-options可以是一个对象或整数。如果没有提供-options，IP-v4-和-v6-地址都可以。如果-options-是整数，则必须是-4-或-6。"><a href="#dns-lookup-hostname-options-callback-将域名（比如-‘runoob-com’）解析为第一条找到的记录-A-（IPV4）或-AAAA-IPV6-。参数-options可以是一个对象或整数。如果没有提供-options，IP-v4-和-v6-地址都可以。如果-options-是整数，则必须是-4-或-6。" class="headerlink" title="dns.lookup(hostname[, options], callback) 将域名（比如 ‘runoob.com’）解析为第一条找到的记录 A （IPV4）或 AAAA(IPV6)。参数 options可以是一个对象或整数。如果没有提供 options，IP v4 和 v6 地址都可以。如果 options 是整数，则必须是 4 或 6。"></a><code>dns.lookup(hostname[, options], callback)</code> 将域名（比如 ‘runoob.com’）解析为第一条找到的记录 A （IPV4）或 AAAA(IPV6)。参数 options可以是一个对象或整数。如果没有提供 options，IP v4 和 v6 地址都可以。如果 options 是整数，则必须是 4 或 6。</h4><h4 id="dns-lookupService-address-port-callback-使用-getnameinfo-解析传入的地址和端口为域名和服务。"><a href="#dns-lookupService-address-port-callback-使用-getnameinfo-解析传入的地址和端口为域名和服务。" class="headerlink" title="dns.lookupService(address, port, callback) 使用 getnameinfo 解析传入的地址和端口为域名和服务。"></a><code>dns.lookupService(address, port, callback)</code> 使用 getnameinfo 解析传入的地址和端口为域名和服务。</h4><h4 id="dns-resolve-hostname-rrtype-callback-将一个域名（如-‘runoob-com’）解析为一个-rrtype-指定记录类型的数组。"><a href="#dns-resolve-hostname-rrtype-callback-将一个域名（如-‘runoob-com’）解析为一个-rrtype-指定记录类型的数组。" class="headerlink" title="dns.resolve(hostname[, rrtype], callback) 将一个域名（如 ‘runoob.com’）解析为一个 rrtype 指定记录类型的数组。"></a><code>dns.resolve(hostname[, rrtype], callback)</code> 将一个域名（如 ‘runoob.com’）解析为一个 rrtype 指定记录类型的数组。</h4><h4 id="dns-resolve4-hostname-callback-和-dns-resolve-类似-仅能查询-IPv4-A-记录）。-addresses-IPv4-地址数组-比如，-‘74-125-79-104’-‘74-125-79-105’-‘74-125-79-106’-）。"><a href="#dns-resolve4-hostname-callback-和-dns-resolve-类似-仅能查询-IPv4-A-记录）。-addresses-IPv4-地址数组-比如，-‘74-125-79-104’-‘74-125-79-105’-‘74-125-79-106’-）。" class="headerlink" title="dns.resolve4(hostname, callback) 和 dns.resolve() 类似, 仅能查询 IPv4 (A 记录）。 addresses IPv4 地址数组 (比如，[‘74.125.79.104’, ‘74.125.79.105’, ‘74.125.79.106’]）。"></a><code>dns.resolve4(hostname, callback)</code> 和 dns.resolve() 类似, 仅能查询 IPv4 (A 记录）。 addresses IPv4 地址数组 (比如，[‘74.125.79.104’, ‘74.125.79.105’, ‘74.125.79.106’]）。</h4><h4 id="dns-resolve6-hostname-callback-和-dns-resolve4-类似，-仅能查询-IPv6-AAAA-查询）"><a href="#dns-resolve6-hostname-callback-和-dns-resolve4-类似，-仅能查询-IPv6-AAAA-查询）" class="headerlink" title="dns.resolve6(hostname, callback) 和 dns.resolve4() 类似， 仅能查询 IPv6( AAAA 查询）"></a><code>dns.resolve6(hostname, callback)</code> 和 dns.resolve4() 类似， 仅能查询 IPv6( AAAA 查询）</h4><h4 id="dns-resolveMx-hostname-callback-和-dns-resolve-类似-仅能查询邮件交换-MX-记录-。"><a href="#dns-resolveMx-hostname-callback-和-dns-resolve-类似-仅能查询邮件交换-MX-记录-。" class="headerlink" title="dns.resolveMx(hostname, callback) 和 dns.resolve() 类似, 仅能查询邮件交换(MX 记录)。"></a><code>dns.resolveMx(hostname, callback)</code> 和 dns.resolve() 类似, 仅能查询邮件交换(MX 记录)。</h4><h4 id="dns-resolveTxt-hostname-callback-和-dns-resolve-类似-仅能进行文本查询-TXT-记录）。-addresses-是-2-d-文本记录数组。-比如，-‘v-spf1-ip4-0-0-0-0-‘-‘-all’-）。-每个子数组包含一条记录的-TXT-块。根据使用情况可以连接在一起，也可单独使用。"><a href="#dns-resolveTxt-hostname-callback-和-dns-resolve-类似-仅能进行文本查询-TXT-记录）。-addresses-是-2-d-文本记录数组。-比如，-‘v-spf1-ip4-0-0-0-0-‘-‘-all’-）。-每个子数组包含一条记录的-TXT-块。根据使用情况可以连接在一起，也可单独使用。" class="headerlink" title="dns.resolveTxt(hostname, callback) 和 dns.resolve() 类似, 仅能进行文本查询 (TXT 记录）。 addresses 是 2-d 文本记录数组。(比如，[ [‘v=spf1 ip4:0.0.0.0 ‘, ‘~all’ ] ]）。 每个子数组包含一条记录的 TXT 块。根据使用情况可以连接在一起，也可单独使用。"></a><code>dns.resolveTxt(hostname, callback)</code> 和 dns.resolve() 类似, 仅能进行文本查询 (TXT 记录）。 addresses 是 2-d 文本记录数组。(比如，[ [‘v=spf1 ip4:0.0.0.0 ‘, ‘~all’ ] ]）。 每个子数组包含一条记录的 TXT 块。根据使用情况可以连接在一起，也可单独使用。</h4><h4 id="dns-resolveSrv-hostname-callback-和-dns-resolve-类似-仅能进行服务记录查询-SRV-记录）。-addresses-是-hostname可用的-SRV-记录数组。-SRV-记录属性有优先级（priority），权重（weight）-端口（port）-和名字（name）-比如，-‘priority’-10-‘weight’-5-‘port’-21223-‘name’-‘service-example-com’-…-）。"><a href="#dns-resolveSrv-hostname-callback-和-dns-resolve-类似-仅能进行服务记录查询-SRV-记录）。-addresses-是-hostname可用的-SRV-记录数组。-SRV-记录属性有优先级（priority），权重（weight）-端口（port）-和名字（name）-比如，-‘priority’-10-‘weight’-5-‘port’-21223-‘name’-‘service-example-com’-…-）。" class="headerlink" title="dns.resolveSrv(hostname, callback) 和 dns.resolve() 类似, 仅能进行服务记录查询 (SRV 记录）。 addresses 是 hostname可用的 SRV 记录数组。 SRV 记录属性有优先级（priority），权重（weight）, 端口（port）, 和名字（name） (比如，[{‘priority’: 10, ‘weight’: 5, ‘port’: 21223, ‘name’: ‘service.example.com’}, …]）。"></a><code>dns.resolveSrv(hostname, callback)</code> 和 dns.resolve() 类似, 仅能进行服务记录查询 (SRV 记录）。 addresses 是 hostname可用的 SRV 记录数组。 SRV 记录属性有优先级（priority），权重（weight）, 端口（port）, 和名字（name） (比如，[{‘priority’: 10, ‘weight’: 5, ‘port’: 21223, ‘name’: ‘service.example.com’}, …]）。</h4><h4 id="dns-resolveSoa-hostname-callback-和-dns-resolve-类似-仅能查询权威记录-SOA-记录）。"><a href="#dns-resolveSoa-hostname-callback-和-dns-resolve-类似-仅能查询权威记录-SOA-记录）。" class="headerlink" title="dns.resolveSoa(hostname, callback) 和 dns.resolve() 类似, 仅能查询权威记录(SOA 记录）。"></a><code>dns.resolveSoa(hostname, callback)</code> 和 dns.resolve() 类似, 仅能查询权威记录(SOA 记录）。</h4><h4 id="dns-resolveNs-hostname-callback-和-dns-resolve-类似-仅能进行域名服务器记录查询-NS-记录）。-addresses-是域名服务器记录数组（hostname-可以使用）-比如-‘ns1-example-com’-‘ns2-example-com’-）。"><a href="#dns-resolveNs-hostname-callback-和-dns-resolve-类似-仅能进行域名服务器记录查询-NS-记录）。-addresses-是域名服务器记录数组（hostname-可以使用）-比如-‘ns1-example-com’-‘ns2-example-com’-）。" class="headerlink" title="dns.resolveNs(hostname, callback) 和 dns.resolve() 类似, 仅能进行域名服务器记录查询(NS 记录）。 addresses 是域名服务器记录数组（hostname 可以使用） (比如, [‘ns1.example.com’, ‘ns2.example.com’]）。"></a><code>dns.resolveNs(hostname, callback)</code> 和 dns.resolve() 类似, 仅能进行域名服务器记录查询(NS 记录）。 addresses 是域名服务器记录数组（hostname 可以使用） (比如, [‘ns1.example.com’, ‘ns2.example.com’]）。</h4><h4 id="dns-resolveCname-hostname-callback-和-dns-resolve-类似-仅能进行别名记录查询-CNAME记录-。addresses-是对-hostname-可用的别名记录数组-比如，-‘bar-example-com’-）。"><a href="#dns-resolveCname-hostname-callback-和-dns-resolve-类似-仅能进行别名记录查询-CNAME记录-。addresses-是对-hostname-可用的别名记录数组-比如，-‘bar-example-com’-）。" class="headerlink" title="dns.resolveCname(hostname, callback) 和 dns.resolve() 类似, 仅能进行别名记录查询 (CNAME记录)。addresses 是对 hostname 可用的别名记录数组 (比如，, [‘bar.example.com’]）。"></a><code>dns.resolveCname(hostname, callback)</code> 和 dns.resolve() 类似, 仅能进行别名记录查询 (CNAME记录)。addresses 是对 hostname 可用的别名记录数组 (比如，, [‘bar.example.com’]）。</h4><h4 id="dns-reverse-ip-callback-反向解析-IP-地址，指向该-IP-地址的域名数组。"><a href="#dns-reverse-ip-callback-反向解析-IP-地址，指向该-IP-地址的域名数组。" class="headerlink" title="dns.reverse(ip, callback) 反向解析 IP 地址，指向该 IP 地址的域名数组。"></a><code>dns.reverse(ip, callback)</code> 反向解析 IP 地址，指向该 IP 地址的域名数组。</h4><h4 id="dns-getServers-返回一个用于当前解析的-IP-地址数组的字符串。"><a href="#dns-getServers-返回一个用于当前解析的-IP-地址数组的字符串。" class="headerlink" title="dns.getServers() 返回一个用于当前解析的 IP 地址数组的字符串。"></a><code>dns.getServers()</code> 返回一个用于当前解析的 IP 地址数组的字符串。</h4><h4 id="dns-setServers-servers-指定一组-IP-地址作为解析服务器。"><a href="#dns-setServers-servers-指定一组-IP-地址作为解析服务器。" class="headerlink" title="dns.setServers(servers) 指定一组 IP 地址作为解析服务器。"></a><code>dns.setServers(servers)</code> 指定一组 IP 地址作为解析服务器。</h4><h3 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dns = <span class="built_in">require</span>(<span class="string">'dns'</span>);</span><br><span class="line">domain = <span class="string">"www.baidu.com"</span>;</span><br><span class="line"><span class="comment">// 通过域名找IP</span></span><br><span class="line">dns.lookup(domain,<span class="function"><span class="keyword">function</span>(<span class="params">err,ip,family</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'IP is ：'</span> + ip);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>输出： IP is ：14.215.177.38</p></blockquote><h2 id="Domain模块"><a href="#Domain模块" class="headerlink" title="Domain模块"></a>Domain模块</h2><h3 id="方法-5"><a href="#方法-5" class="headerlink" title="方法"></a>方法</h3><h4 id="domain-run-function-在域的上下文运行提供的函数，隐式的绑定了所有的事件分发器，计时器和底层请求。"><a href="#domain-run-function-在域的上下文运行提供的函数，隐式的绑定了所有的事件分发器，计时器和底层请求。" class="headerlink" title="domain.run(function) 在域的上下文运行提供的函数，隐式的绑定了所有的事件分发器，计时器和底层请求。"></a><code>domain.run(function)</code> 在域的上下文运行提供的函数，隐式的绑定了所有的事件分发器，计时器和底层请求。</h4><h4 id="domain-add-emitter-显式的增加事件"><a href="#domain-add-emitter-显式的增加事件" class="headerlink" title="domain.add(emitter) 显式的增加事件"></a><code>domain.add(emitter)</code> 显式的增加事件</h4><h4 id="domain-remove-emitter-删除事件。"><a href="#domain-remove-emitter-删除事件。" class="headerlink" title="domain.remove(emitter) 删除事件。"></a><code>domain.remove(emitter)</code> 删除事件。</h4><h4 id="domain-bind-callback-返回的函数是一个对于所提供的回调函数的包装函数。当调用这个返回的函数被时，所有被抛出的错误都会被导向到这个域的-error-事件。"><a href="#domain-bind-callback-返回的函数是一个对于所提供的回调函数的包装函数。当调用这个返回的函数被时，所有被抛出的错误都会被导向到这个域的-error-事件。" class="headerlink" title="domain.bind(callback) 返回的函数是一个对于所提供的回调函数的包装函数。当调用这个返回的函数被时，所有被抛出的错误都会被导向到这个域的 error 事件。"></a><code>domain.bind(callback)</code> 返回的函数是一个对于所提供的回调函数的包装函数。当调用这个返回的函数被时，所有被抛出的错误都会被导向到这个域的 error 事件。</h4><h4 id="domain-intercept-callback-和-domain-bind-callback-类似。除了捕捉被抛出的错误外，它还会拦截-Error-对象作为参数传递到这个函数。"><a href="#domain-intercept-callback-和-domain-bind-callback-类似。除了捕捉被抛出的错误外，它还会拦截-Error-对象作为参数传递到这个函数。" class="headerlink" title="domain.intercept(callback) 和 domain.bind(callback) 类似。除了捕捉被抛出的错误外，它还会拦截 Error 对象作为参数传递到这个函数。"></a><code>domain.intercept(callback)</code> 和 domain.bind(callback) 类似。除了捕捉被抛出的错误外，它还会拦截 Error 对象作为参数传递到这个函数。</h4><h4 id="domain-enter-进入一个异步调用的上下文，绑定到domain。"><a href="#domain-enter-进入一个异步调用的上下文，绑定到domain。" class="headerlink" title="domain.enter() 进入一个异步调用的上下文，绑定到domain。"></a><code>domain.enter()</code> 进入一个异步调用的上下文，绑定到domain。</h4><h4 id="domain-exit-退出当前的domain，切换到不同的链的异步调用的上下文中。对应domain-enter-。"><a href="#domain-exit-退出当前的domain，切换到不同的链的异步调用的上下文中。对应domain-enter-。" class="headerlink" title="domain.exit() 退出当前的domain，切换到不同的链的异步调用的上下文中。对应domain.enter()。"></a><code>domain.exit()</code> 退出当前的domain，切换到不同的链的异步调用的上下文中。对应domain.enter()。</h4><h4 id="domain-dispose-释放一个domain对象，让node进程回收这部分资源。"><a href="#domain-dispose-释放一个domain对象，让node进程回收这部分资源。" class="headerlink" title="domain.dispose() 释放一个domain对象，让node进程回收这部分资源。"></a><code>domain.dispose()</code> 释放一个domain对象，让node进程回收这部分资源。</h4><h4 id="domain-create-返回一个domain对象。"><a href="#domain-create-返回一个domain对象。" class="headerlink" title="domain.create() 返回一个domain对象。"></a><code>domain.create()</code> 返回一个domain对象。</h4><h3 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h3><h4 id="domain-members-已加入domain对象的域定时器和事件发射器的数组。"><a href="#domain-members-已加入domain对象的域定时器和事件发射器的数组。" class="headerlink" title="domain.members 已加入domain对象的域定时器和事件发射器的数组。"></a><code>domain.members</code> 已加入domain对象的域定时器和事件发射器的数组。</h4><h1 id="MySql"><a href="#MySql" class="headerlink" title="MySql"></a>MySql</h1><blockquote><p>首先安装mysql模块<br>通过命令：npm install mysql<br>创建数据库node_mysql<br>创建user表,表字典如下</p></blockquote><table><thead><tr><th style="text-align:center">字段名</th><th style="text-align:center">属性</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:center">id</td><td style="text-align:center">int</td><td style="text-align:center">主键</td></tr><tr><td style="text-align:center">name</td><td style="text-align:center">varchar</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">age</td><td style="text-align:center">int</td><td style="text-align:center">非空</td></tr></tbody></table><blockquote><p>数据库插入数据后的表</p></blockquote><p><img src="http://i.imgur.com/zfZFrxW.png" alt=""></p><h2 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查询数据</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql'</span>);</span><br><span class="line">conn = mysql.createConnection(&#123;</span><br><span class="line">host:<span class="string">'localhost'</span>,</span><br><span class="line">user:<span class="string">'root'</span>,</span><br><span class="line">password:<span class="string">'abcdef123'</span>,</span><br><span class="line">port:<span class="string">'3306'</span>,</span><br><span class="line">database:<span class="string">'node_mysql'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//建立连接</span></span><br><span class="line">conn.connect();</span><br><span class="line"><span class="comment">//准备sql语句</span></span><br><span class="line">sql = <span class="string">"select * from user"</span>;</span><br><span class="line"><span class="comment">//查询数据库</span></span><br><span class="line">conn.query(sql,<span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'error:'</span>,err.message);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; result.length; i++)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"id  :"</span> + result[i][<span class="string">'id'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name:"</span> + result[i][<span class="string">'name'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"age :"</span> + result[i][<span class="string">'age'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"-----------------"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//关闭数据库连接</span></span><br><span class="line">conn.end();</span><br></pre></td></tr></table></figure><blockquote><p>输出结果：<br><br>id  :1<br><br>name:Gavin<br><br>age :16<br><br>-—————-<br><br>id  :2<br><br>name:Gavin<br><br>age :18<br><br>-—————-</p></blockquote><h2 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入数据</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql'</span>);</span><br><span class="line">conn = mysql.createConnection(&#123;</span><br><span class="line">host:<span class="string">'localhost'</span>, </span><br><span class="line">user:<span class="string">'root'</span>,</span><br><span class="line">password:<span class="string">'abcdef123'</span>,</span><br><span class="line">port:<span class="string">'3306'</span>,</span><br><span class="line">database:<span class="string">'node_mysql'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//建立连接</span></span><br><span class="line">conn.connect();</span><br><span class="line"><span class="comment">//准备sql语句</span></span><br><span class="line">sql = <span class="string">"insert into user(name,age) values(?,?)"</span>;</span><br><span class="line">data = [<span class="string">'Gavin'</span>,<span class="string">'22'</span>];</span><br><span class="line"><span class="comment">//查询数据库</span></span><br><span class="line">conn.query(sql,data,<span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'error:'</span>,err.message);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'AffectedRows :'</span>,result[<span class="string">'affectedRows'</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//关闭数据库连接</span></span><br><span class="line">conn.end();</span><br></pre></td></tr></table></figure><blockquote><p>输出：AffectedRows : 1 </p></blockquote><p><img src="http://i.imgur.com/Bs7FpEK.png" alt=""></p><h2 id="更新数据"><a href="#更新数据" class="headerlink" title="更新数据"></a>更新数据</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//更新数据</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql'</span>);</span><br><span class="line">conn = mysql.createConnection(&#123;</span><br><span class="line">host:<span class="string">'localhost'</span>, </span><br><span class="line">user:<span class="string">'root'</span>,</span><br><span class="line">password:<span class="string">'abcdef123'</span>,</span><br><span class="line">port:<span class="string">'3306'</span>,</span><br><span class="line">database:<span class="string">'node_mysql'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//建立连接</span></span><br><span class="line">conn.connect();</span><br><span class="line"><span class="comment">//准备sql语句</span></span><br><span class="line">sql = <span class="string">"update user set age=? where id=?"</span>;</span><br><span class="line">data = [<span class="string">'15'</span>,<span class="string">'1'</span>];</span><br><span class="line"><span class="comment">//查询数据库</span></span><br><span class="line">conn.query(sql,data,<span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'error:'</span>,err.message);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'AffectedRows :'</span>,result[<span class="string">'affectedRows'</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//关闭数据库连接</span></span><br><span class="line">conn.end();</span><br></pre></td></tr></table></figure><blockquote><p>输出：AffectedRows : 1</p></blockquote><p><img src="http://i.imgur.com/CnZsCyo.png" alt=""></p><h2 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除数据</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql'</span>);</span><br><span class="line">conn = mysql.createConnection(&#123;</span><br><span class="line">host:<span class="string">'localhost'</span>, </span><br><span class="line">user:<span class="string">'root'</span>,</span><br><span class="line">password:<span class="string">'abcdef123'</span>,</span><br><span class="line">port:<span class="string">'3306'</span>,</span><br><span class="line">database:<span class="string">'node_mysql'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//建立连接</span></span><br><span class="line">conn.connect();</span><br><span class="line"><span class="comment">//准备sql语句</span></span><br><span class="line">sql = <span class="string">"delete from user where id=1"</span>;</span><br><span class="line"><span class="comment">//查询数据库</span></span><br><span class="line">conn.query(sql,<span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'error:'</span>,err.message);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'AffectedRows :'</span>,result[<span class="string">'affectedRows'</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//关闭数据库连接</span></span><br><span class="line">conn.end();</span><br></pre></td></tr></table></figure><blockquote><p>输出：AffectedRows : 1</p></blockquote><p><img src="http://i.imgur.com/44bkwD6.png" alt="删除数据"></p><h1 id="HTTP模块"><a href="#HTTP模块" class="headerlink" title="HTTP模块"></a>HTTP模块</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用模块</span></span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个服务器，回调函数表示接收到请求之后做的事情</span></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line"><span class="comment">//req参数表示请求，res表示响应</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"服务器接收到了请求"</span> + req.url);</span><br><span class="line"><span class="comment">//设置头部</span></span><br><span class="line">res.writeHead(<span class="number">200</span>,&#123;<span class="string">"Content-Type"</span>:<span class="string">"text/html;charset=UTF8"</span>&#125;);</span><br><span class="line">res.write(<span class="string">"&lt;h1&gt;我是主标题&lt;/h1&gt;"</span>);</span><br><span class="line">res.write(<span class="string">"&lt;h2&gt;我是2标题&lt;/h2&gt;"</span>);</span><br><span class="line">res.write(<span class="string">"&lt;h3&gt;我是3标题&lt;/h3&gt;"</span>);</span><br><span class="line">res.end((<span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>).toString());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//监听端口</span></span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="string">"127.0.0.1"</span>);</span><br></pre></td></tr></table></figure><h2 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h2><h3 id="url-模块"><a href="#url-模块" class="headerlink" title="url 模块"></a>url 模块</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(req.url);</span><br><span class="line">res.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="string">"127.0.0.1"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line"><span class="comment">//url.parse()可以将一个完整的URL地址，分为很多部分：</span></span><br><span class="line"><span class="comment">//host、port、pathname、path、query</span></span><br><span class="line"><span class="keyword">var</span> pathname = url.parse(req.url).pathname;</span><br><span class="line"><span class="comment">//url.parse()如果第二个参数是true，那么就可以将所有的查询变为对象</span></span><br><span class="line"><span class="comment">//就可以直接打点得到这个参数</span></span><br><span class="line"><span class="keyword">var</span> query = url.parse(req.url,<span class="literal">true</span>).query;</span><br><span class="line"><span class="comment">//直接打点得到这个参数</span></span><br><span class="line"><span class="keyword">var</span> age = query.age;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"pathname:"</span> + pathname);</span><br><span class="line"><span class="built_in">console</span>.log(query);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"age:"</span> + age);</span><br><span class="line"></span><br><span class="line">res.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="string">"127.0.0.1"</span>);</span><br></pre></td></tr></table></figure><blockquote><p>输入网址：<a href="http://localhost:3000/?age=18">http://localhost:3000/?age=18</a><br><br>输出：<br><br>pathname:/<br><br>{ age: ‘18’ } <br><br>age:18 <br></p></blockquote><h1 id="静态文件夹"><a href="#静态文件夹" class="headerlink" title="静态文件夹"></a>静态文件夹</h1><blockquote><p>访问静态文件夹<br><br>文件目录<br></p><ul><li>static<ul><li>index.html</li><li>404.html</li></ul></li><li>app.js</li></ul></blockquote><hr><blockquote><p>app.js</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>); </span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 获取用户的路径</span></span><br><span class="line">    <span class="keyword">var</span> pathname = url.parse(req.url).pathname;</span><br><span class="line">    <span class="comment">// 获取拓展名</span></span><br><span class="line"><span class="keyword">var</span> extname = path.extname(pathname);</span><br><span class="line">    <span class="comment">// 读取这个文件</span></span><br><span class="line">    fs.readFile(<span class="string">"./static/"</span> + pathname, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="comment">// 如果此文件不存在， 就返回404返回</span></span><br><span class="line">            fs.readFile(<span class="string">"./static/404.html"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>)</span>&#123;</span><br><span class="line">                res.writeHead(<span class="number">404</span>, &#123;<span class="string">"Content-type"</span>: <span class="string">"text/html;charset = UTF8"</span>&#125;);</span><br><span class="line">                res.end(data);</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">var</span> mime = getMime(extname);</span><br><span class="line">res.writeHead(<span class="number">200</span>,&#123;<span class="string">"Content-type"</span>:mime&#125;);</span><br><span class="line">        res.end(data);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMime</span>(<span class="params">extname</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(extname)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">".html"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"text/html"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">".jpg"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"image/jpg"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">".css"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"text/css"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">".js"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"text/javascript"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="string">"127.0.0.1"</span>);</span><br></pre></td></tr></table></figure><blockquote><p>static/index.html</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一个静态的HTML页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>static/404.html</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一个404页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>-->]]></content>
      
      <categories>
          
          <category> 后端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>BLChat</title>
      <link href="/2018/04/28/chat/"/>
      <url>/2018/04/28/chat/</url>
      <content type="html"><![CDATA[<p>BLChat即时通讯APP</p><p>&lt;!–more-&gt;</p><h1 id="BLChat"><a href="#BLChat" class="headerlink" title="BLChat"></a>BLChat</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>BLChat即时通讯APP</p><h2 id="SDK版本"><a href="#SDK版本" class="headerlink" title="SDK版本"></a>SDK版本</h2><p>Android 4.0.3</p><h2 id="测试环境"><a href="#测试环境" class="headerlink" title="测试环境"></a>测试环境</h2><p>小米2S、vivo x5pro</p><h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><p>Android Studio 2.3.3</p><h2 id="文件夹说明"><a href="#文件夹说明" class="headerlink" title="文件夹说明"></a>文件夹说明</h2><p>IMServer 文件夹存放的是服务器接口文件，需要在model文件夹下配置你的数据库账号密码</p><h2 id="功能模块划分"><a href="#功能模块划分" class="headerlink" title="功能模块划分"></a>功能模块划分</h2><ol><li>用户管理模块</li><li>好友管理模块</li><li>即时通讯模块</li><li>朋友圈模块</li></ol><h2 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h2><h3 id="开始界面"><a href="#开始界面" class="headerlink" title="开始界面"></a>开始界面</h3><p><img src="http://i.imgur.com/jqQ2ZEw.png" alt="启动页面"></p><h3 id="主页面"><a href="#主页面" class="headerlink" title="主页面"></a>主页面</h3><p><img src="http://i.imgur.com/8obW0Lv.png" alt="主页面"><br><img src="http://i.imgur.com/GNOi64s.png" alt="主页面2"></p><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="用户信息列表"><a href="#用户信息列表" class="headerlink" title="用户信息列表"></a>用户信息列表</h3><table><thead><tr><th style="text-align:center">字段名</th><th style="text-align:center">说明</th><th style="text-align:center">数据类型</th><th style="text-align:center">约束</th></tr></thead><tbody><tr><td style="text-align:center">_id</td><td style="text-align:center">索引</td><td style="text-align:center">整形</td><td style="text-align:center">主码</td></tr><tr><td style="text-align:center">user_id</td><td style="text-align:center">用户ID</td><td style="text-align:center">整型</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">user_name</td><td style="text-align:center">用户名</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">user_sex</td><td style="text-align:center">性别</td><td style="text-align:center">字符串，长度为４</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">user_sign</td><td style="text-align:center">用户个性签名</td><td style="text-align:center">字符串，长度为180</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">user_account</td><td style="text-align:center">用户帐号</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">user_location</td><td style="text-align:center">用户地区</td><td style="text-align:center">字符串，长度为36</td><td style="text-align:center"></td></tr></tbody></table><h3 id="好友信息表"><a href="#好友信息表" class="headerlink" title="好友信息表"></a>好友信息表</h3><table><thead><tr><th style="text-align:center">字段名</th><th style="text-align:center">说明</th><th style="text-align:center">数据类型</th><th style="text-align:center">约束</th></tr></thead><tbody><tr><td style="text-align:center">_id</td><td style="text-align:center">索引</td><td style="text-align:center">整形</td><td style="text-align:center">主码</td></tr><tr><td style="text-align:center">friend_id</td><td style="text-align:center">好友ID</td><td style="text-align:center">整形</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">group_name</td><td style="text-align:center">分组名称</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">friend_name</td><td style="text-align:center">好友名称</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">nick_name</td><td style="text-align:center">昵称</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">friend_sex</td><td style="text-align:center">好友性别</td><td style="text-align:center">字符串，长度为4</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">friend_account</td><td style="text-align:center">好友帐号</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">friend_location</td><td style="text-align:center">好友地区</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">friend_recent_photo</td><td style="text-align:center">好友朋友圈展示图片</td><td style="text-align:center">字符串，长度为300</td><td style="text-align:center"></td></tr></tbody></table><h3 id="聊天记录表"><a href="#聊天记录表" class="headerlink" title="聊天记录表"></a>聊天记录表</h3><table><thead><tr><th style="text-align:center">字段名</th><th style="text-align:center">说明</th><th style="text-align:center">数据类型</th><th style="text-align:center">约束</th></tr></thead><tbody><tr><td style="text-align:center">_id</td><td style="text-align:center">索引</td><td style="text-align:center">整形</td><td style="text-align:center">主码</td></tr><tr><td style="text-align:center">user_id</td><td style="text-align:center">用户ID</td><td style="text-align:center">整型</td><td style="text-align:center">外键</td></tr><tr><td style="text-align:center">friend_id</td><td style="text-align:center">好友ID</td><td style="text-align:center">整型</td><td style="text-align:center">外键</td></tr><tr><td style="text-align:center">chat_msg_content</td><td style="text-align:center">聊天内容</td><td style="text-align:center">文本</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">chat_msg_time</td><td style="text-align:center">聊天时间</td><td style="text-align:center">日期</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">chat_msg_type</td><td style="text-align:center">聊天类型，接受还是发送</td><td style="text-align:center">字符串，长度为10</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">show_time_flag</td><td style="text-align:center">是否显示时间</td><td style="text-align:center">整型</td><td style="text-align:center">非空</td></tr></tbody></table><h3 id="添加好友表"><a href="#添加好友表" class="headerlink" title="添加好友表"></a>添加好友表</h3><table><thead><tr><th style="text-align:center">字段名</th><th style="text-align:center">说明</th><th style="text-align:center">数据类型</th><th style="text-align:center">约束</th></tr></thead><tbody><tr><td style="text-align:center">_id</td><td style="text-align:center">索引</td><td style="text-align:center">整形</td><td style="text-align:center">主码</td></tr><tr><td style="text-align:center">account</td><td style="text-align:center">请求者账号</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">reason</td><td style="text-align:center">添加好友的请求信息</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">默认为“您好”</td></tr><tr><td style="text-align:center">status</td><td style="text-align:center">添加好友的状态</td><td style="text-align:center">字符串，长度为10</td><td style="text-align:center">非空</td></tr></tbody></table><h3 id="服务器用户信息列表"><a href="#服务器用户信息列表" class="headerlink" title="服务器用户信息列表"></a>服务器用户信息列表</h3><table><thead><tr><th style="text-align:center">字段名</th><th style="text-align:center">说明</th><th style="text-align:center">数据类型</th><th style="text-align:center">约束</th></tr></thead><tbody><tr><td style="text-align:center">id</td><td style="text-align:center">索引</td><td style="text-align:center">整形</td><td style="text-align:center">主码</td></tr><tr><td style="text-align:center">username</td><td style="text-align:center">用户名</td><td style="text-align:center">字符串，长度为30</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">password</td><td style="text-align:center">密码</td><td style="text-align:center">字符串，长度为32</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">nickname</td><td style="text-align:center">昵称</td><td style="text-align:center">字符串，长度为18</td><td style="text-align:center">非空</td></tr><tr><td style="text-align:center">sign</td><td style="text-align:center">用户个性签名</td><td style="text-align:center">字符串，长度为180</td><td style="text-align:center">无     </td></tr><tr><td style="text-align:center">head</td><td style="text-align:center">用户头像</td><td style="text-align:center">字符串，长度为180</td><td style="text-align:center">无</td></tr><tr><td style="text-align:center">location</td><td style="text-align:center">用户地区</td><td style="text-align:center">字符串，长度为36</td><td style="text-align:center">无     </td></tr><tr><td style="text-align:center">addtime</td><td style="text-align:center">注册时间</td><td style="text-align:center">DATETIME</td><td style="text-align:center">非空 </td></tr><tr><td style="text-align:center">status</td><td style="text-align:center">用户状态</td><td style="text-align:center">Int</td><td style="text-align:center">默认0     </td></tr></tbody></table>]]></content>
      
      
        <tags>
            
            <tag> BLChat </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>myfirst</title>
      <link href="/2018/04/27/myfirst/"/>
      <url>/2018/04/27/myfirst/</url>
      <content type="html"><![CDATA[<p>图的邻接矩阵表示广度深度遍历大连理工大学数据结构上机<br><a id="more"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;Queue.h&gt;</span><br><span class="line">//队列，可用之前文章里面的Queue.h</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class Edge</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int start,end;//边的起始节点，终止节点</span><br><span class="line">    EdgeType weight;//边的权重（应该可以定义为int）</span><br><span class="line">    Edge()</span><br><span class="line">    &#123;</span><br><span class="line">       start=0;</span><br><span class="line">        end=0;</span><br><span class="line">        weight=0;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge(int st,int en,int w)</span><br><span class="line">    &#123;</span><br><span class="line">        start=st;</span><br><span class="line">        end=en;</span><br><span class="line">        weight=w;</span><br><span class="line">    &#125;</span><br><span class="line">    bool operator &gt; (Edge oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(weight&gt;oneEdge.weight)</span><br><span class="line">            return true;</span><br><span class="line">        else</span><br><span class="line">            return false;</span><br><span class="line">    &#125;</span><br><span class="line">    bool operator &lt; (Edge oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(weight&lt;oneEdge.weight)</span><br><span class="line">            return true;</span><br><span class="line">        else</span><br><span class="line">            return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class Graph</span><br><span class="line">&#123;</span><br><span class="line">    public:</span><br><span class="line">    int vertexNum; //图中节点个数</span><br><span class="line">    int edgeNum;   //图中边的个数</span><br><span class="line">    int * Mark;    //标记某节点是否被访问</span><br><span class="line">    Graph(int verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;vertexNum=verNum;</span><br><span class="line">        edgeNum=0;</span><br><span class="line">        Mark=new int[vertexNum];</span><br><span class="line">        for(int i=0;i&lt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Mark[i]=0; //都没有被访问过</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~Graph()</span><br><span class="line">    &#123;</span><br><span class="line">        delete [] Mark;</span><br><span class="line">    &#125;</span><br><span class="line">    //virtual Edge&lt;EdgeType&gt; FirstEdge(int oneVertex)=0;</span><br><span class="line">    //virtual Edge&lt;EdgeType&gt; NextEdge(Edge&lt;EdgeType&gt; oneEdge)=0;</span><br><span class="line">    int verticesNum()</span><br><span class="line">    &#123;</span><br><span class="line">        return vertexNum;</span><br><span class="line">    &#125;</span><br><span class="line">    int EdgesNum()</span><br><span class="line">    &#123;</span><br><span class="line">        return edgeNum;</span><br><span class="line">    &#125;</span><br><span class="line">    bool isEdge(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        if(oneEdge.end&gt;=0 &amp;&amp; oneEdge.start&gt;=0 &amp;&amp; oneEdge.weight&gt;0)//判断条件还不清楚</span><br><span class="line">        &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    int startOfVertex(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.start;</span><br><span class="line">    &#125;</span><br><span class="line">    int endOfVertex(Edge&lt;EdgeType&gt; oneEdge)</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.end;</span><br><span class="line">    &#125;</span><br><span class="line">    EdgeType weight(Edge&lt;EdgeType&gt; oneEdge) //返回oneEdge的权重</span><br><span class="line">    &#123;</span><br><span class="line">        return oneEdge.weight;</span><br><span class="line">    &#125;</span><br><span class="line">    //virtual void setEdge(int start,int end,int weight)=0;</span><br><span class="line">    //virtual void deleteEdge(int start,int end)=0;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">template&lt;class EdgeType&gt;</span><br><span class="line">class AdjGraph : public Graph&lt;EdgeType &gt;</span><br><span class="line">&#123;</span><br><span class="line"> private:</span><br><span class="line">    int ** matrix;</span><br><span class="line"> public:</span><br><span class="line">    AdjGraph(int verNum):Graph&lt;EdgeType&gt;(verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        matrix =new int * [verNum];</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [verNum];</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">          for(int j=0;j&lt;verNum;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i][j]=0;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    AdjGraph(int verNum,int **  a):Graph&lt;EdgeType&gt;(verNum)</span><br><span class="line">    &#123;</span><br><span class="line">        matrix =new int * [verNum];</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [verNum];</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i=0;i&lt;verNum;i++)</span><br><span class="line">          for(int j=0;j&lt;verNum;j++)</span><br><span class="line">          &#123;</span><br><span class="line"></span><br><span class="line">            matrix[i][j]=a[i][j];</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    void disp()</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">           for(int j=0;j&lt;this-&gt;vertexNum;j++)</span><br><span class="line">           &#123;</span><br><span class="line">             cout&lt;&lt;matrix[i][j]&lt;&lt;&quot; &quot;;</span><br><span class="line">           &#125;</span><br><span class="line">            cout&lt;&lt;endl;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~AdjGraph()</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i]=new int [this-&gt;vertexNum];</span><br><span class="line">        &#125;</span><br><span class="line">        delete [] matrix;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge&lt;EdgeType&gt; FirstEdge(int oneVer) //返回顶点的第一条边</span><br><span class="line">    &#123;</span><br><span class="line">        Edge&lt;EdgeType&gt; tem;</span><br><span class="line">        tem.start=oneVer;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(matrix[oneVer][i]!=0)</span><br><span class="line">            &#123;</span><br><span class="line">                tem.end=i;</span><br><span class="line">                tem.weight=matrix[oneVer][i];</span><br><span class="line">                return tem;</span><br><span class="line">                //break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //cout&lt;&lt;&quot;没有符合条件的边&quot;&lt;&lt;endl;</span><br><span class="line">        //return;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge&lt;EdgeType&gt; NextEdge(Edge&lt;EdgeType&gt; oneEdge)//返回与oneEdg有相同起点的下一条边</span><br><span class="line">    &#123;</span><br><span class="line">        Edge&lt;EdgeType&gt; tem;</span><br><span class="line">        tem.start=oneEdge.start;</span><br><span class="line">        for(int i=oneEdge.end+1;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">              if(matrix[oneEdge.start][i]!=0)</span><br><span class="line">              &#123;</span><br><span class="line">                 tem.end=i;</span><br><span class="line">                 tem.weight=matrix[oneEdge.start][i];</span><br><span class="line">                 return tem;</span><br><span class="line">              &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //cout&lt;&lt;&quot;没有符合条件的边&quot;&lt;&lt;endl;</span><br><span class="line">        //return;</span><br><span class="line">    &#125;</span><br><span class="line">    void visit(int i)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;&quot;正在访问&quot;&lt;&lt;i+1&lt;&lt;&quot;号节点&quot;&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //深度优先搜索</span><br><span class="line">    void DFS(int i)//从i号节点开始深度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;Mark[i]=1;</span><br><span class="line">        visit(i);</span><br><span class="line">        for(Edge&lt;EdgeType&gt; e=FirstEdge(i);this-&gt;isEdge(e);e=NextEdge(e))</span><br><span class="line">        &#123;</span><br><span class="line">             if(this-&gt;Mark[e.end]==0)</span><br><span class="line">             &#123;</span><br><span class="line">               DFS(e.end);</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    void DFSGraph()//对图进行深度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        this-&gt;Mark[i]=0;  //标记都未访问</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(this-&gt;Mark[i]==0)</span><br><span class="line">            &#123;</span><br><span class="line">                DFS(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    //广度优先搜索</span><br><span class="line">    void BFS(int i)//从i号节点开始广度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        Queue&lt;int&gt; que;</span><br><span class="line">        que.EnQueue(i);</span><br><span class="line">        visit(i);</span><br><span class="line">        this-&gt;Mark[i]=1;</span><br><span class="line">        int p;</span><br><span class="line">        while(!que.IsEmpty())</span><br><span class="line">        &#123;</span><br><span class="line">            que.DeQueue(p);</span><br><span class="line">            this-&gt;Mark[p]=1;</span><br><span class="line">            for(Edge&lt;EdgeType&gt; e=FirstEdge(p);this-&gt;isEdge(e);e=NextEdge(e))</span><br><span class="line">            &#123;</span><br><span class="line">                if(this-&gt;Mark[e.end]==0)</span><br><span class="line">                &#123;//此处要注意，在节点入队时候就要将Mark置为已访问，否则可能会导致同一节点多次入队</span><br><span class="line">                  visit(e.end);</span><br><span class="line">                  this-&gt;Mark[e.end]=1;</span><br><span class="line">                  que.EnQueue(e.end);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void BFSGraph()//对图进行广度优先搜索</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        this-&gt;Mark[i]=0;  //标记都未访问</span><br><span class="line">        for(int i=0;i&lt;this-&gt;vertexNum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(this-&gt;Mark[i]==0)</span><br><span class="line">            &#123;</span><br><span class="line">                BFS(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //课本p160页的图</span><br><span class="line">    int tem[8][8]=&#123;</span><br><span class="line">        &#123;0,1,1,0,0,0,0,0&#125;,</span><br><span class="line">        &#123;1,0,0,1,1,0,0,0&#125;,</span><br><span class="line">        &#123;1,0,0,0,0,1,1,0&#125;,</span><br><span class="line">        &#123;0,1,0,0,0,0,0,1&#125;,</span><br><span class="line">        &#123;0,1,0,0,0,0,0,1&#125;,</span><br><span class="line">        &#123;0,0,1,0,0,0,1,0&#125;,</span><br><span class="line">        &#123;0,0,1,0,0,1,0,0&#125;,</span><br><span class="line">        &#123;0,0,0,1,1,0,0,0&#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    int ** a=new int *[8];</span><br><span class="line">    for(int i=0;i&lt;8;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i]=new int [8];</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=0;i&lt;8;i++)</span><br><span class="line">      for(int j=0;j&lt;8;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i][j]=tem[i][j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    AdjGraph&lt;int&gt; p(8,a);</span><br><span class="line">    p.disp();</span><br><span class="line">   // p.DFSGraph();</span><br><span class="line">    p.BFSGraph();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://img.blog.csdn.net/20171210214341700?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTDE1NTgxOTg3Mjc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="main函数里构造的图"></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Hello World</title>
      <link href="/2018/04/27/hello-world/"/>
      <url>/2018/04/27/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
